{
  "url": "https://www.csjplatform.com/supportcenter/27688",
  "title": "自渲染全屏视频广告",
  "content": "开发测试/iOS集成文档/历史功能/自渲染全屏视频广告\n自渲染全屏视频广告\n最近更新 2025-07-25 16:02:51\n简介\n\n全屏视频是一种全屏播放的视频广告，用户可以进行0s跳过操作。全屏视频广告的展示场景为应用功能自然体验中断时，如游戏关卡之间。全屏视频广告不应突然出现，不应干扰用户使用应用的正常流程，例如应用加载，退出应用或者游戏过程中。\n\n支持的广告尺寸： 全屏横屏(宽高比16:9)、全屏竖屏(宽高比9:16)\n\n权限\n\n自渲染全屏视频： 已回收，不再提供创建（该部分面向历史有历史使用该广告类型的开发者）\n\n使用说明\n\nSDK渲染全屏视频使用BUFullscreenVideoAd对象调用loadAdData请求广告，使用BUFullscreenVideoAd对象调用showAdFromRootViewController:展示广告，通过设置BUFullscreenVideoAdDelegate代理，获取广告、展示、点击、关闭等回调。\n\n创建广告位对象、请求广告\n\n每次需要生成新的BUFullscreenVideoAd对象调用loadAdData方法请求最新全屏视频，请勿重复使用本地缓存全屏视频多次展示.\n\nBUFullscreenVideoAd\n\n请求广告时需要传入广告位对象，广告位对象创建时必须传入广告位id必传参数：\n\n字段定义\n\n\t\n\n是否必传\n\n\t\n\n字段名称\n\n\t\n\n字段类型\n\n\t\n\n备注\n\n\n\n\nSlotID\n\n\t\n\n是\n\n\t\n\n广告位\n\n\t\n\nNSString\n\n\t\n\n代码位ID\n\n使用BUFullscreenVideoAd创建对象，使用BUFullscreenVideoAd调用loadAdData请求广告\n\n复制\n//保证每次请求的广告对象为新的广告对象，避免重复使用广告同一个对象进行广告请求\nself.fullscreenVideoAd = [[BUFullscreenVideoAd alloc] initWithSlotID:slotID];\nself.fullscreenVideoAd.delegate = self;\n[self.fullscreenVideoAd loadAdData];\n展示广告\n\n全屏视频广告不应有诸如"看视频给金币或奖励"之类的激励展示规则，并允许用户在5秒后跳过该广告。开发者不应对用户何时可以跳过广告的设置进行更改，或添加任何其他跳过功能。\n\n调用showAdFromRootViewController:方法展示全屏视频广告，此处需要传入当前展示的页面。一定要设置rootViewController，即展示广告和跳转落地页需要的viewController，此处建议开发者在收到fullscreenVideoAdVideoDataDidLoad回调后再允许用户观看广告，可保证播放流畅和展示流畅，用户体验更好。\n\n复制\nif (self.fullscreenAd) {\n   [self.fullscreenAd showAdFromRootViewController:self];\n}\n展示时机\n\n在收到fullscreenVideoAdVideoDataDidLoad回调后再允许用户观看广告，可保证播放流畅和展示流畅，用户体验更好。\n\n复制\n- (void)fullscreenVideoAdVideoDataDidLoad:(BUFullscreenVideoAd *)fullscreenVideoAd {\n //此回调方法后进行广告的展示，可保证播放流畅和展示流畅，用户体验更好。\n}\n广告展示后重新加载广告\n\n同一次请求的广告最多只能计一次展示，重复的展示会被系统过滤。因此建议开发者在用户观看完广告后在fullscreenVideoAdDidClose回调里将原来的广告对象置为nil 保证广告对象为新的请求对象\n\n复制\n- (void)fullscreenVideoAdDidClose:(BUFullscreenVideoAd *)fullscreenVideoAd {\n  //可在此回调中将广告对象置为nil\n}\n接收广告加载结果\n\n回调方法\n\n\t\n\n注释\n\n\n\n\nfullscreenVideoAd: didFailWithError:\n\n\t\n\n返回的错误码(error)表示广告加载失败的原因，所有错误码详情请见链接。Link\n\n\n\n\nfullscreenVideoMaterialMetaAdDidLoad:\n\n\t\n\n广告素材物料加载成功\n\n\n\n\nfullscreenVideoAdVideoDataDidLoad:\n\n\t\n\n视频缓存成功\n\nBUFullscreenVideoAdDelegate回调说明\n\n回调方法\n\n\t\n\n注释\n\n\n\n\nfullscreenVideoMaterialMetaAdDidLoad:\n\n\t\n\n广告素材物料加载成功\n\n\n\n\nfullscreenVideoAd: didFailWithError:\n\n\t\n\n返回的错误码(error)表示广告加载失败的原因，所有错误码详情请见链接。Link\n\n\n\n\nfullscreenVideoAdVideoDataDidLoad:\n\n\t\n\n视频缓存成功\n\n\n\n\nfullscreenVideoAdWillVisible:\n\n\t\n\n广告即将显示回调\n\n\n\n\nfullscreenVideoAdDidVisible:\n\n\t\n\n广告已经显示回调\n\n\n\n\nfullscreenVideoAdDidClick:\n\n\t\n\n点击回调\n\n\n\n\nfullscreenVideoAdWillClose:\n\n\t\n\n广告即将被关闭回调\n\n\n\n\nfullscreenVideoAdDidClose:\n\n\t\n\n广告被关闭回调\n\n\n\n\nfullscreenVideoAdDidPlayFinish: didFailWithError:\n\n\t\n\n当广告播放完成或者发生错误时会进入此回调，打印error即可。所有错误码详情请见链接。Link\n\n\n\n\nfullscreenVideoAdDidClickSkip:\n\n\t\n\n跳过按钮被点击时会触发此回调方法\n\n\n\n\nfullscreenVideoAdCallback: withType:\n\n\t\n\n此回调可知全屏视频的广告类型\n\n通过设置BUFullscreenVideoAdDelegate代理，获取广告、展示、点击、关闭等回调。其他代理方法可参见Demo中BUDFullscreenViewController类#pragma mark - BUFullscreenVideoAdDelegate部分\n\n注意事项\n\n①必须要设置rootViewController，用来处理广告跳转。SDK里所有的跳转均采用present的方式，请确保传入的rootViewController不能为空且没有present其他的控制器，否则会出现presentedViewController已经存在而导致present失败。\n\n②为保证播放流畅和展示流畅，用户体验更好，在收到fullscreenVideoAdVideoDataDidLoad回调后进行广告的展示\n\n③判断广告是否有效直接使用self.fullscreenAd判断即可\n\n④每次请求数据时，都需要重新初始化一个新的BUFullscreenVideoAd对象。请勿重复使用本地缓存的全屏视频对象多次展示.\n\n资源\n\n详细接入可参照Demo中的BUDFullscreenViewController类，广告加载请求部分可参照loadFullscreenVideoAdWithSlotID方法，广告展示部分可参照showFullscreenVideoAd方法\n\n\n\n\n\n\n\n本篇目录\n简介\n权限\n使用说明\n创建广告位对象、请求广告\n展示广告\n展示时机\n广告展示后重新加载广告\n接收广告加载结果\n注意事项\n资源\n评价此篇文档\n有帮助\n无帮助"
}
