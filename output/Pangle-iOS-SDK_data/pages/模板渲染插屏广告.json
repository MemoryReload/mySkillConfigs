{
  "url": "https://www.csjplatform.com/supportcenter/5387",
  "title": "模板渲染插屏广告",
  "content": "开发测试/iOS集成文档/历史功能/模板渲染插屏广告\n模板渲染插屏广告\n最近更新 2023-02-17 10:53:25\n简介\n\n模板渲染插屏：使用场景为应用功能自然体验中断时，例如暂停视频播放，游戏关卡之间。插屏广告不应突然出现，不应干扰用户使用应用的正常流程，例如应用加载，退出应用或者游戏过程中。\n\n支持的广告尺寸：1:1、2:3、3:2 三种尺寸注意：⚠️⚠️⚠️ 请求模版插屏广告，高度值不能设置为0⚠️⚠️⚠️\n\n5.0.0.0及以上版本删除插屏广告样式接口（BUAdSlotAdType中移除枚举值BUAdSlotAdTypeInterstitial、删除BUNativeExpressInterstitialAd类）\n\n权限\n\n模板渲染插屏： 已回收，不支持创建（该部分面向历史有历史使用该广告类型的开发者）\n\n为避免渲染过程产生广告视图形变，插屏广告的请求尺寸务必和媒体平台配置相同尺寸\n\n使用说明\n\n模版插屏使用BUNativeExpressInterstitialAd对象调用loadAdData请求广告，使用BUNativeExpressInterstitialAd对象调用showAdFromRootViewController:展示广告，通过设置BUNativeExpresInterstitialAdDelegate代理，获取广告、展示、点击、关闭等回调。\n\n创建广告位对象、请求广告\n\nBUNativeExpressInterstitialAd\n\n请求广告时需要传入广告位对象，广告位对象创建时必须传入广告位ID\n\n字段定义\n\n\t\n\n是否必传\n\n\t\n\n字段名称\n\n\t\n\n字段类型\n\n\t\n\n备注\n\n\n\n\nslotID\n\n\t\n\n是\n\n\t\n\n代码位\n\n\t\n\nNSString\n\n\t\n\n代码位ID\n\n\n\n\nadSize\n\n\t\n\n是\n\n\t\n\n广告尺寸\n\n\t\n\nCGSize\n\n\t\n\n广告尺寸，务必和媒体平台配置相同尺寸\n\n使用BUNativeExpressInterstitialAd创建对象，使用BUNativeExpressInterstitialAd调用loadAdData请求广告\n\n复制\nself.interstitialAd = [[BUNativeExpressInterstitialAd alloc] initWithSlotID:slotID adSize:CGSizeMake(width, height)];\nself.interstitialAd.delegate = self;\n[self.interstitialAd loadAdData];\n展示广告\n\n调用showAdFromRootViewController:方法展示插屏广告，此处需要传入当前展示的页面。一定要设置rootViewController，即展示广告和跳转落地页需要的viewController，此处建议开发者在收到nativeExpresInterstitialAdRenderSuccess回调后展示插屏广告，可保证播放流畅和展示流畅，用户体验更好。\n\n复制\nif (self.interstitialAd) {\n   [self.interstitialAd showAdFromRootViewController:self];\n}\n展示时机\n\n在收到nativeExpresInterstitialAdRenderSuccess回调后再进行广告的展示，可保证播放流畅和展示流畅，用户体验更好。\n\n复制\n- (void)nativeExpresInterstitialAdRenderSuccess:(BUNativeExpressInterstitialAd *)interstitialAd {\n //此回调方法中进行广告的展示，可保证播放流畅和展示流畅，用户体验更好。\n}\n接收广告加载结果\n\n回调方法\n\n\t\n\n注释\n\n\n\n\nnativeExpresInterstitialAd:didFailWithError\n\n\t\n\n返回的错误码(error)表示广告加载失败的原因，所有错误码详情请见链接。Link\n\n\n\n\nnativeExpresInterstitialAdRenderFail\n\n\t\n\n渲染失败，网络原因或者硬件原因导致渲染失败,可以更换手机或者网络环境测试。建议升级到穿山甲平台最新版本\n\n\n\n\nnativeExpresInterstitialAdDidLoad\n\n\t\n\n广告素材物料加载成功\n\n\n\n\nnativeExpresInterstitialAdRenderSuccess\n\n\t\n\n渲染成功\n\nBUNativeExpresInterstitialAdDelegate回调说明\n\n回调方法\n\n\t\n\n注释\n\n\n\n\nnativeExpresInterstitialAdDidLoad:\n\n\t\n\n广告物料加载成功\n\n\n\n\nnativeExpresInterstitialAd: didFailWithError:\n\n\t\n\n返回的错误码(error)表示广告加载失败的原因，所有错误码详情请见链接。Linkhttps://ad.oceanengine.com/union/media/doc?id=5de4cc6d78c8690012a90aa5)\n\n\n\n\nnativeExpresInterstitialAdRenderSuccess:\n\n\t\n\n渲染成功回调\n\n\n\n\nnativeExpresInterstitialAdRenderFail: error:\n\n\t\n\n渲染失败，网络原因或者硬件原因导致渲染失败,可以更换手机或者网络环境测试。建议升级到穿山甲平台最新版本\n\n\n\n\nnativeExpresInterstitialAdWillVisible:\n\n\t\n\n模版插屏广告即将展示\n\n\n\n\nnativeExpresInterstitialAdDidClick:\n\n\t\n\n点击回调\n\n\n\n\nnativeExpresInterstitialAdWillClose:\n\n\t\n\n广告即将关闭回调\n\n\n\n\nnativeExpresInterstitialAdDidClose:\n\n\t\n\n关闭回调\n\n\n\n\nnativeExpresInterstitialAdDidCloseOtherController: interactionType:\n\n\t\n\n此回调在广告跳转到其他控制器时，该控制器被关闭时调用interactionType：此参数可区分是打开的appstore/网页/详情页面等等\n\n通过设置BUNativeExpresInterstitialAdDelegate代理，获取广告、展示、点击、关闭等回调。其他代理方法可参见demo中BUDExpressInterstitialViewController类\n\n#pragma ---BUNativeExpresInterstitialAdDelegate部分\n\n注意事项\n\n①必须要设置rootViewController，用来处理广告跳转。SDK里所有的跳转均采用present的方式，请确保传入的rootViewController不能为空且没有present其他的控制器，否则会出现presentedViewController已经存在而导致present失败。\n\n②为保证播放流畅和展示流畅，用户体验更好，在收到nativeExpresInterstitialAdRenderSuccess回调后进行广告的展示\n\n③判断广告是否有效直接使用self.interstitialAd判断即可\n\n资源\n\n详细接入可参照Demo中的BUDExpressInterstitialViewController类，广告加载请求部分可参照loadInterstitialWithSlotID方法，广告展示部分可参照showInterstitial方法\n\n\n\n\n\n\n\n\n\n\n本篇目录\n简介\n权限\n使用说明\n创建广告位对象、请求广告\n展示广告\n展示时机\n接收广告加载结果\n注意事项\n资源\n评价此篇文档\n有帮助\n无帮助"
}
