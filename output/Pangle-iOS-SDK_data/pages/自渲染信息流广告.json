{
  "url": "https://www.csjplatform.com/supportcenter/5390",
  "title": "自渲染信息流广告",
  "content": "开发测试/iOS集成文档/自渲染信息流广告\n自渲染信息流广告\n最近更新 2025-10-11 16:16:56\n简介\n\n自渲染信息流：场景应在应用的内容流中与应用内容穿插展示，广告内容与应用其他内容区分开，防止意外点击。\n\n📢iOS4.8.0.0及以上版本\n\n1、传入clickableViews不为空时，只有clickableViews 和视频区域可以响应点击进行转化\n\n2、传入clickableViews为空时，默认整个广告可响应点击进行转化\n\n复制\n- (void)registerContainer:(__kindof UIView *)containerView\n\n withClickableViews:(NSArray<__kindof UIView *> *_Nullable)clickableViews\n\n支持的广告尺寸：\n\n大图(宽高比：1.78的图片)\n视频(宽高比：1.78的视频)\n小图(宽高比：1.52的图片)\n组图(三张宽高比：1.52的图片)\n权限\n\n自渲染信息流广告： 已回收，不再提供创建（该部分面向历史有历史使用该广告类型的开发者）\n\n使用说明\n\n自渲染信息流广告使用BUNativeAdsManager对象调用loadAdDataWithCount: 请求广告，通过设置BUNativeAdsManagerDelegate、BUVideoAdViewDelegate、BUNativeAdDelegate代理，获取广告相关素材、以及点击等回调。\n\n创建广告位对象、请求广告\n\nBUNativeAdsManager\n\n请求广告时需要传入广告位对象，广告位对象创建时必须传入广告位ID及广告基本配置BUAdSlot\n\n字段定义\n\n\t\n\n是否必传\n\n\t\n\n字段名称\n\n\t\n\n字段类型\n\n\t\n\n备注\n\n\n\n\nBUAdSlot\n\n\t\n\n是\n\n\t\n\n/\n\n\t\n\n/\n\n\t\n\n基本配置\n\n\n\n\nslotID\n\n\t\n\n是\n\n\t\n\n代码位\n\n\t\n\nNSString\n\n\t\n\n代码位ID\n\n使用BUAdSlot创建广告基本信息，使用BUNativeAdsManager调用loadAdDataWithCount: 请求广告\n\n复制\n//保证每次请求的广告对象为新的广告对象，避免重复使用广告同一个对象进行广告请求\nBUNativeAdsManager *nad = [BUNativeAdsManager new];\nBUAdSlot *slot1 = [[BUAdSlot alloc] init];\nslot1.ID = self.viewModel.slotID;\nslot1.AdType = BUAdSlotAdTypeFeed;\nslot1.position = BUAdSlotPositionTop;\nslot1.imgSize = [BUSize sizeBy:BUProposalSize_Feed690_388];\nnad.adslot = slot1;\nnad.delegate = self;\nself.adManager = nad;  \n[nad loadAdDataWithCount:3];\n\n注意：loadAdDataWithCount请求数建议一次请求不超过3个\n\n接收广告加载结果\n\n回调方法\n\n\t\n\n注释\n\n\n\n\nnativeAdsManagerSuccessToLoad: nativeAds:\n\n\t\n\n加载成功回调；在此回调中进行相关的数据插入处理\n\n\n\n\nnativeAdsManager:didFailWithError:\n\n\t\n\n返回的错误码(error)表示广告加载失败的原因，所有错误码详情请见链接。Link\n\nBUNativeAdDelegate回调说明\n\n回调方法\n\n\t\n\n注释\n\n\n\n\nnativeAdDidLoad:\n\n\t\n\n广告物料加载成功\n\n\n\n\nnativeAd:didFailWithError:\n\n\t\n\n返回的错误码(error)表示广告加载失败的原因，所有错误码详情请见链接。Link\n\n\n\n\nnativeAdDidBecomeVisible:\n\n\t\n\n广告显示回调\n\n\n\n\nnativeAdDidCloseOtherController: interactionType:\n\n\t\n\n此回调在广告跳转到其他控制器时，该控制器被关闭时调用interactionType：此参数可区分是打开的appstore/网页/视频广告详情页面\n\n\n\n\nnativeAdDidClick:withView:\n\n\t\n\n除视频区域外，点击会响应此回调方法\n\n\n\n\nnativeAd:dislikeWithReason:\n\n\t\n\ndislike按钮点击回调，需要在此回调方法中进行响应的数据处理\n\n注意事项\n\n1、在物料加载成功方法里获取相关广告信息赋值后，需调用 registerContainer:withClickableViews:clickableViews注册绑定点击的View并刷新数据源refreshData:。\n\n2、每次获取物料信息后需要刷新调用refreshData:方法\n\n资源\n\n详细接入可参照Demo中的BUDFeedViewController类，广告加载请求部分可参照loadNativeAds方法\n\n\n\n\n\n\n\n本篇目录\n简介\n权限\n使用说明\n创建广告位对象、请求广告\n接收广告加载结果\n注意事项\n资源\n评价此篇文档\n有帮助\n无帮助"
}