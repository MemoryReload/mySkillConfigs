{
  "title": "Retrieve Message Batch results (Beta) (Python)",
  "content": "URL: https://platform.claude.com/docs/en/api/python/beta/messages/batches/results\n\n`beta.messages.batches.results(strmessage_batch_id, BatchResultsParams**kwargs)  -> BetaMessageBatchIndividualResponse`\n\n**get** `/v1/messages/batches/{message_batch_id}/results`\n\nStreams the results of a Message Batch as a `.jsonl` file.\n\nEach line in the file is a JSON object containing the result of a single request in the Message Batch. Results are not guaranteed to be in the same order as requests. Use the `custom_id` field to match results to requests.\n\nLearn more about the Message Batches API in our [user guide](https://docs.claude.com/en/docs/build-with-claude/batch-processing)\n\n- `message_batch_id: str`\n\nID of the Message Batch.\n\n- `betas: Optional[List[AnthropicBetaParam]]`\n\nOptional header to specify the beta version(s) you want to use.\n\n- `UnionMember0 = str`\n\n- `UnionMember1 = Literal[\"message-batches-2024-09-24\", \"prompt-caching-2024-07-31\", \"computer-use-2024-10-22\", 16 more]`\n\n- `\"message-batches-2024-09-24\"`\n\n- `\"prompt-caching-2024-07-31\"`\n\n- `\"computer-use-2024-10-22\"`\n\n- `\"computer-use-2025-01-24\"`\n\n- `\"pdfs-2024-09-25\"`\n\n- `\"token-counting-2024-11-01\"`\n\n- `\"token-efficient-tools-2025-02-19\"`\n\n- `\"output-128k-2025-02-19\"`\n\n- `\"files-api-2025-04-14\"`\n\n- `\"mcp-client-2025-04-04\"`\n\n- `\"mcp-client-2025-11-20\"`\n\n- `\"dev-full-thinking-2025-05-14\"`\n\n- `\"interleaved-thinking-2025-05-14\"`\n\n- `\"code-execution-2025-05-22\"`\n\n- `\"extended-cache-ttl-2025-04-11\"`\n\n- `\"context-1m-2025-08-07\"`\n\n- `\"context-management-2025-06-27\"`\n\n- `\"model-context-window-exceeded-2025-08-26\"`\n\n- `\"skills-2025-10-02\"`\n\n- `class BetaMessageBatchIndividualResponse: …`\n\nThis is a single line in the response `.jsonl` file and does not represent the response as a whole.\n\nDeveloper-provided ID created for each request in a Message Batch. Useful for matching results to requests, as results may be given out of request order.\n\nMust be unique for each request within the Message Batch.\n\n- `result: BetaMessageBatchResult`\n\nProcessing result for this request.\n\nContains a Message output if processing was successful, an error response if processing failed, or the reason why processing was not attempted, such as cancellation or expiration.\n\n- `class BetaMessageBatchSucceededResult: …`\n\n- `message: BetaMessage`\n\nUnique object identifier.\n\nThe format and length of IDs may change over time.\n\n- `container: Optional[BetaContainer]`\n\nInformation about the container used in the request (for the code execution tool)\n\nIdentifier for the container used in this request\n\n- `expires_at: datetime`\n\nThe time at which the container will expire.\n\n- `skills: Optional[List[BetaSkill]]`\n\nSkills loaded in the container\n\n- `type: Literal[\"anthropic\", \"custom\"]`\n\nType of skill - either 'anthropic' (built-in) or 'custom' (user-defined)\n\nSkill version or 'latest' for most recent version\n\n- `content: List[BetaContentBlock]`\n\nContent generated by the model.\n\nThis is an array of content blocks, each of which has a `type` that determines its shape.\n\nIf the request input `messages` ended with an `assistant` turn, then the response `content` will continue directly from that last turn. You can use this to constrain the model's output.\n\nFor example, if the input `messages` were:\n\nThen the response `content` might be:\n\n- `class BetaTextBlock: …`\n\n- `citations: Optional[List[BetaTextCitation]]`\n\nCitations supporting the text block.\n\nThe type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.\n\n- `class BetaCitationCharLocation: …`\n\n- `document_index: int`\n\n- `document_title: Optional[str]`\n\n- `end_char_index: int`\n\n- `file_id: Optional[str]`\n\n- `start_char_index: int`\n\n- `type: Literal[\"char_location\"]`\n\n- `class BetaCitationPageLocation: …`\n\n- `document_index: int`\n\n- `document_title: Optional[str]`\n\n- `end_page_number: int`\n\n- `file_id: Optional[str]`\n\n- `start_page_number: int`\n\n- `type: Literal[\"page_location\"]`\n\n- `class BetaCitationContentBlockLocation: …`\n\n- `document_index: int`\n\n- `document_title: Optional[str]`\n\n- `end_block_index: int`\n\n- `file_id: Optional[str]`\n\n- `start_block_index: int`\n\n- `type: Literal[\"content_block_location\"]`\n\n- `\"content_block_location\"`\n\n- `class BetaCitationsWebSearchResultLocation: …`\n\n- `encrypted_index: str`\n\n- `title: Optional[str]`\n\n- `type: Literal[\"web_search_result_location\"]`\n\n- `\"web_search_result_location\"`\n\n- `class BetaCitationSearchResultLocation: …`\n\n- `end_block_index: int`\n\n- `search_result_index: int`\n\n- `start_block_index: int`\n\n- `title: Optional[str]`\n\n- `type: Literal[\"search_result_location\"]`\n\n- `\"search_result_location\"`\n\n- `type: Literal[\"text\"]`\n\n- `class BetaThinkingBlock: …`\n\n- `type: Literal[\"thinking\"]`\n\n- `class BetaRedactedThinkingBlock: …`\n\n- `type: Literal[\"redacted_thinking\"]`\n\n- `\"redacted_thinking\"`\n\n- `class BetaToolUseBlock: …`\n\n- `input: Dict[str, object]`\n\n- `type: Literal[\"tool_use\"]`\n\n- `caller: Optional[Caller]`\n\nTool invocation directly from the model.\n\n- `class BetaDirectCaller: …`\n\nTool invocation directly from the model.\n\n- `type: Literal[\"direct\"]`\n\n- `class BetaServerToolCaller: …`\n\nTool invocation generated by a server-side tool.\n\n- `type: Literal[\"code_execution_20250825\"]`\n\n- `\"code_execution_20250825\"`\n\n- `class BetaServerToolUseBlock: …`\n\nTool invocation directly from the model.\n\n- `class BetaDirectCaller: …`\n\nTool invocation directly from the model.\n\n- `type: Literal[\"direct\"]`\n\n- `class BetaServerToolCaller: …`\n\nTool invocation generated by a server-side tool.\n\n- `type: Literal[\"code_execution_20250825\"]`\n\n- `\"code_execution_20250825\"`\n\n- `input: Dict[str, object]`\n\n- `name: Literal[\"web_search\", \"web_fetch\", \"code_execution\", 4 more]`\n\n- `\"bash_code_execution\"`\n\n- `\"text_editor_code_execution\"`\n\n- `\"tool_search_tool_regex\"`\n\n- `\"tool_search_tool_bm25\"`\n\n- `type: Literal[\"server_tool_use\"]`\n\n- `\"server_tool_use\"`\n\n- `class BetaWebSearchToolResultBlock: …`\n\n- `content: BetaWebSearchToolResultBlockContent`\n\n- `class BetaWebSearchToolResultError: …`\n\n- `error_code: BetaWebSearchToolResultErrorCode`\n\n- `\"invalid_tool_input\"`\n\n- `\"max_uses_exceeded\"`\n\n- `\"too_many_requests\"`\n\n- `type: Literal[\"web_search_tool_result_error\"]`\n\n- `\"web_search_tool_result_error\"`\n\n- `UnionMember1 = List[BetaWebSearchResultBlock]`\n\n- `encrypted_content: str`\n\n- `page_age: Optional[str]`\n\n- `type: Literal[\"web_search_result\"]`\n\n- `\"web_search_result\"`\n\n- `type: Literal[\"web_search_tool_result\"]`\n\n- `\"web_search_tool_result\"`\n\n- `class BetaWebFetchToolResultBlock: …`\n\n- `class BetaWebFetchToolResultErrorBlock: …`\n\n- `error_code: BetaWebFetchToolResultErrorCode`\n\n- `\"invalid_tool_input\"`\n\n- `\"url_not_allowed\"`\n\n- `\"url_not_accessible\"`\n\n- `\"unsupported_content_type\"`\n\n- `\"too_many_requests\"`\n\n- `\"max_uses_exceeded\"`\n\n- `type: Literal[\"web_fetch_tool_result_error\"]`\n\n- `\"web_fetch_tool_result_error\"`\n\n- `class BetaWebFetchBlock: …`\n\n- `content: BetaDocumentBlock`\n\n- `citations: Optional[BetaCitationConfig]`\n\nCitation configuration for the document\n\n- `class BetaBase64PDFSource: …`\n\n- `media_type: Literal[\"application/pdf\"]`\n\n- `\"application/pdf\"`\n\n- `type: Literal[\"base64\"]`\n\n- `class BetaPlainTextSource: …`\n\n- `media_type: Literal[\"text/plain\"]`\n\n- `type: Literal[\"text\"]`\n\n- `title: Optional[str]`\n\nThe title of the document\n\n- `type: Literal[\"document\"]`\n\n- `retrieved_at: Optional[str]`\n\nISO 8601 timestamp when the content was retrieved\n\n- `type: Literal[\"web_fetch_result\"]`\n\n- `\"web_fetch_result\"`\n\n- `type: Literal[\"web_fetch_tool_result\"]`\n\n- `\"web_fetch_tool_result\"`\n\n- `class BetaCodeExecutionToolResultBlock: …`\n\n- `content: BetaCodeExecutionToolResultBlockContent`\n\n- `class BetaCodeExecutionToolResultError: …`\n\n- `error_code: BetaCodeExecutionToolResultErrorCode`\n\n- `\"invalid_tool_input\"`\n\n- `\"too_many_requests\"`\n\n- `\"execution_time_exceeded\"`\n\n- `type: Literal[\"code_execution_tool_result_error\"]`\n\n- `\"code_execution_tool_result_error\"`\n\n- `class BetaCodeExecutionResultBlock: …`\n\n- `content: List[BetaCodeExecutionOutputBlock]`\n\n- `type: Literal[\"code_execution_output\"]`\n\n- `\"code_execution_output\"`\n\n- `type: Literal[\"code_execution_result\"]`\n\n- `\"code_execution_result\"`\n\n- `type: Literal[\"code_execution_tool_result\"]`\n\n- `\"code_execution_tool_result\"`\n\n- `class BetaBashCodeExecutionToolResultBlock: …`\n\n- `class BetaBashCodeExecutionToolResultError: …`\n\n- `error_code: Literal[\"invalid_tool_input\", \"unavailable\", \"too_many_requests\", 2 more]`\n\n- `\"invalid_tool_input\"`\n\n- `\"too_many_requests\"`\n\n- `\"execution_time_exceeded\"`\n\n- `\"output_file_too_large\"`\n\n- `type: Literal[\"bash_code_execution_tool_result_error\"]`\n\n- `\"bash_code_execution_tool_result_error\"`\n\n- `class BetaBashCodeExecutionResultBlock: …`\n\n- `content: List[BetaBashCodeExecutionOutputBlock]`\n\n- `type: Literal[\"bash_code_execution_output\"]`\n\n- `\"bash_code_execution_output\"`\n\n- `type: Literal[\"bash_code_execution_result\"]`\n\n- `\"bash_code_execution_result\"`\n\n- `type: Literal[\"bash_code_execution_tool_result\"]`\n\n- `\"bash_code_execution_tool_result\"`\n\n- `class BetaTextEditorCodeExecutionToolResultBlock: …`\n\n- `class BetaTextEditorCodeExecutionToolResultError: …`\n\n- `error_code: Literal[\"invalid_tool_input\", \"unavailable\", \"too_many_requests\", 2 more]`\n\n- `\"invalid_tool_input\"`\n\n- `\"too_many_requests\"`\n\n- `\"execution_time_exceeded\"`\n\n- `error_message: Optional[str]`\n\n- `type: Literal[\"text_editor_code_execution_tool_result_error\"]`\n\n- `\"text_editor_code_execution_tool_result_error\"`\n\n- `class BetaTextEditorCodeExecutionViewResultBlock: …`\n\n- `file_type: Literal[\"text\", \"image\", \"pdf\"]`\n\n- `num_lines: Optional[int]`\n\n- `start_line: Optional[int]`\n\n- `total_lines: Optional[int]`\n\n- `type: Literal[\"text_editor_code_execution_view_result\"]`\n\n- `\"text_editor_code_execution_view_result\"`\n\n- `class BetaTextEditorCodeExecutionCreateResultBlock: …`\n\n- `is_file_update: bool`\n\n- `type: Literal[\"text_editor_code_execution_create_result\"]`\n\n- `\"text_editor_code_execution_create_result\"`\n\n- `class BetaTextEditorCodeExecutionStrReplaceResultBlock: …`\n\n- `lines: Optional[List[str]]`\n\n- `new_lines: Optional[int]`\n\n- `new_start: Optional[int]`\n\n- `old_lines: Optional[int]`\n\n- `old_start: Optional[int]`\n\n- `type: Literal[\"text_editor_code_execution_str_replace_result\"]`\n\n- `\"text_editor_code_execution_str_replace_result\"`\n\n- `type: Literal[\"text_editor_code_execution_tool_result\"]`\n\n- `\"text_editor_code_execution_tool_result\"`\n\n- `class BetaToolSearchToolResultBlock: …`\n\n- `class BetaToolSearchToolResultError: …`\n\n- `error_code: Literal[\"invalid_tool_input\", \"unavailable\", \"too_many_requests\", \"execution_time_exceeded\"]`\n\n- `\"invalid_tool_input\"`\n\n- `\"too_many_requests\"`\n\n- `\"execution_time_exceeded\"`\n\n- `error_message: Optional[str]`\n\n- `type: Literal[\"tool_search_tool_result_error\"]`\n\n- `\"tool_search_tool_result_error\"`\n\n- `class BetaToolSearchToolSearchResultBlock: …`\n\n- `tool_references: List[BetaToolReferenceBlock]`\n\n- `type: Literal[\"tool_reference\"]`\n\n- `type: Literal[\"tool_search_tool_search_result\"]`\n\n- `\"tool_search_tool_search_result\"`\n\n- `type: Literal[\"tool_search_tool_result\"]`\n\n- `\"tool_search_tool_result\"`\n\n- `class BetaMCPToolUseBlock: …`\n\n- `input: Dict[str, object]`\n\nThe name of the MCP tool\n\nThe name of the MCP server\n\n- `type: Literal[\"mcp_tool_use\"]`\n\n- `class BetaMCPToolResultBlock: …`\n\n- `content: Union[str, List[BetaTextBlock]]`\n\n- `ContentUnionMember0 = str`\n\n- `ContentBetaMCPToolResultBlockContent = List[BetaTextBlock]`\n\n- `citations: Optional[List[BetaTextCitation]]`\n\nCitations supporting the text block.\n\nThe type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.\n\n- `class BetaCitationCharLocation: …`\n\n- `document_index: int`\n\n- `document_title: Optional[str]`\n\n- `end_char_index: int`\n\n- `file_id: Optional[str]`\n\n- `start_char_index: int`\n\n- `type: Literal[\"char_location\"]`\n\n- `class BetaCitationPageLocation: …`\n\n- `document_index: int`\n\n- `document_title: Optional[str]`\n\n- `end_page_number: int`\n\n- `file_id: Optional[str]`\n\n- `start_page_number: int`\n\n- `type: Literal[\"page_location\"]`\n\n- `class BetaCitationContentBlockLocation: …`\n\n- `document_index: int`\n\n- `document_title: Optional[str]`\n\n- `end_block_index: int`\n\n- `file_id: Optional[str]`\n\n- `start_block_index: int`\n\n- `type: Literal[\"content_block_location\"]`\n\n- `\"content_block_location\"`\n\n- `class BetaCitationsWebSearchResultLocation: …`\n\n- `encrypted_index: str`\n\n- `title: Optional[str]`\n\n- `type: Literal[\"web_search_result_location\"]`\n\n- `\"web_search_result_location\"`\n\n- `class BetaCitationSearchResultLocation: …`\n\n- `end_block_index: int`\n\n- `search_result_index: int`\n\n- `start_block_index: int`\n\n- `title: Optional[str]`\n\n- `type: Literal[\"search_result_location\"]`\n\n- `\"search_result_location\"`\n\n- `type: Literal[\"text\"]`\n\n- `type: Literal[\"mcp_tool_result\"]`\n\n- `\"mcp_tool_result\"`\n\n- `class BetaContainerUploadBlock: …`\n\nResponse model for a file uploaded to the container.\n\n- `type: Literal[\"container_upload\"]`\n\n- `\"container_upload\"`\n\n- `context_management: Optional[BetaContextManagementResponse]`\n\nContext management response.\n\nInformation about context management strategies applied during the request.\n\n- `applied_edits: List[AppliedEdit]`\n\nList of context management edits that were applied.\n\n- `class BetaClearToolUses20250919EditResponse: …`\n\n- `cleared_input_tokens: int`\n\nNumber of input tokens cleared by this edit.\n\n- `cleared_tool_uses: int`\n\nNumber of tool uses that were cleared.\n\n- `type: Literal[\"clear_tool_uses_20250919\"]`\n\nThe type of context management edit applied.\n\n- `\"clear_tool_uses_20250919\"`\n\n- `class BetaClearThinking20251015EditResponse: …`\n\n- `cleared_input_tokens: int`\n\nNumber of input tokens cleared by this edit.\n\n- `cleared_thinking_turns: int`\n\nNumber of thinking turns that were cleared.\n\n- `type: Literal[\"clear_thinking_20251015\"]`\n\nThe type of context management edit applied.\n\n- `\"clear_thinking_20251015\"`\n\nThe model that will complete your prompt.\n\nSee [models](https://docs.anthropic.com/en/docs/models-overview) for additional details and options.\n\n- `UnionMember0 = Literal[\"claude-opus-4-5-20251101\", \"claude-opus-4-5\", \"claude-3-7-sonnet-latest\", 17 more]`\n\nThe model that will complete your prompt.\n\nSee [models](https://docs.anthropic.com/en/docs/models-overview) for additional details and options.\n\n- `claude-opus-4-5-20251101` - Premium model combining maximum intelligence with practical performance\n            - `claude-opus-4-5` - Premium model combining maximum intelligence with practical performance\n            - `claude-3-7-sonnet-latest` - Deprecated: Will reach end-of-life on February 19th, 2026. Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.\n            - `claude-3-7-sonnet-20250219` - Deprecated: Will reach end-of-life on February 19th, 2026. Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.\n            - `claude-3-5-haiku-latest` - Fastest and most compact model for near-instant responsiveness\n            - `claude-3-5-haiku-20241022` - Our fastest model\n            - `claude-haiku-4-5` - Hybrid model, capable of near-instant responses and extended thinking\n            - `claude-haiku-4-5-20251001` - Hybrid model, capable of near-instant responses and extended thinking\n            - `claude-sonnet-4-20250514` - High-performance model with extended thinking\n            - `claude-sonnet-4-0` - High-performance model with extended thinking\n            - `claude-4-sonnet-20250514` - High-performance model with extended thinking\n            - `claude-sonnet-4-5` - Our best model for real-world agents and coding\n            - `claude-sonnet-4-5-20250929` - Our best model for real-world agents and coding\n            - `claude-opus-4-0` - Our most capable model\n            - `claude-opus-4-20250514` - Our most capable model\n            - `claude-4-opus-20250514` - Our most capable model\n            - `claude-opus-4-1-20250805` - Our most capable model\n            - `claude-3-opus-latest` - Deprecated: Will reach end-of-life on January 5th, 2026. Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.\n            - `claude-3-opus-20240229` - Deprecated: Will reach end-of-life on January 5th, 2026. Please migrate to a newer model. Visit https://docs.anthropic.com/en/docs/resources/model-deprecations for more information.\n            - `claude-3-haiku-20240307` - Our previous most fast and cost-effective\n\n- `\"claude-opus-4-5-20251101\"`\n\nPremium model combining maximum intelligence with practical performance\n\n- `\"claude-opus-4-5\"`\n\nPremium model combining maximum intelligence with practical performance\n\n- `\"claude-3-7-sonnet-latest\"`\n\nHigh-performance model with early extended thinking\n\n- `\"claude-3-7-sonnet-20250219\"`\n\nHigh-performance model with early extended thinking\n\n- `\"claude-3-5-haiku-latest\"`\n\nFastest and most compact model for near-instant responsiveness\n\n- `\"claude-3-5-haiku-20241022\"`\n\n- `\"claude-haiku-4-5\"`\n\nHybrid model, capable of near-instant responses and extended thinking\n\n- `\"claude-haiku-4-5-20251001\"`\n\nHybrid model, capable of near-instant responses and extended thinking\n\n- `\"claude-sonnet-4-20250514\"`\n\nHigh-performance model with extended thinking\n\n- `\"claude-sonnet-4-0\"`\n\nHigh-performance model with extended thinking\n\n- `\"claude-4-sonnet-20250514\"`\n\nHigh-performance model with extended thinking\n\n- `\"claude-sonnet-4-5\"`\n\nOur best model for real-world agents and coding\n\n- `\"claude-sonnet-4-5-20250929\"`\n\nOur best model for real-world agents and coding\n\n- `\"claude-opus-4-0\"`\n\nOur most capable model\n\n- `\"claude-opus-4-20250514\"`\n\nOur most capable model\n\n- `\"claude-4-opus-20250514\"`\n\nOur most capable model\n\n- `\"claude-opus-4-1-20250805\"`\n\nOur most capable model\n\n- `\"claude-3-opus-latest\"`\n\nExcels at writing and complex tasks\n\n- `\"claude-3-opus-20240229\"`\n\nExcels at writing and complex tasks\n\n- `\"claude-3-haiku-20240307\"`\n\nOur previous most fast and cost-effective\n\n- `UnionMember1 = str`\n\n- `role: Literal[\"assistant\"]`\n\nConversational role of the generated message.\n\nThis will always be `\"assistant\"`.\n\n- `stop_reason: Optional[BetaStopReason]`\n\nThe reason that we stopped.\n\nThis may be one the following values:\n\n* `\"end_turn\"`: the model reached a natural stopping point\n          * `\"max_tokens\"`: we exceeded the requested `max_tokens` or the model's maximum\n          * `\"stop_sequence\"`: one of your provided custom `stop_sequences` was generated\n          * `\"tool_use\"`: the model invoked one or more tools\n          * `\"pause_turn\"`: we paused a long-running turn. You may provide the response back as-is in a subsequent request to let the model continue.\n          * `\"refusal\"`: when streaming classifiers intervene to handle potential policy violations\n\nIn non-streaming mode this value is always non-null. In streaming mode, it is null in the `message_start` event and non-null otherwise.\n\n- `\"model_context_window_exceeded\"`\n\n- `stop_sequence: Optional[str]`\n\nWhich custom stop sequence was generated, if any.\n\nThis value will be a non-null string if one of your custom stop sequences was generated.\n\n- `type: Literal[\"message\"]`\n\nFor Messages, this is always `\"message\"`.\n\nBilling and rate-limit usage.\n\nAnthropic's API bills and rate-limits by token counts, as tokens represent the underlying cost to our systems.\n\nUnder the hood, the API transforms requests into a format suitable for the model. The model's output then goes through a parsing stage before becoming an API response. As a result, the token counts in `usage` will not match one-to-one with the exact visible content of an API request or response.\n\nFor example, `output_tokens` will be non-zero, even for an empty string response from Claude.\n\nTotal input tokens in a request is the summation of `input_tokens`, `cache_creation_input_tokens`, and `cache_read_input_tokens`.\n\n- `cache_creation: Optional[BetaCacheCreation]`\n\nBreakdown of cached tokens by TTL\n\n- `ephemeral_1h_input_tokens: int`\n\nThe number of input tokens used to create the 1 hour cache entry.\n\n- `ephemeral_5m_input_tokens: int`\n\nThe number of input tokens used to create the 5 minute cache entry.\n\n- `cache_creation_input_tokens: Optional[int]`\n\nThe number of input tokens used to create the cache entry.\n\n- `cache_read_input_tokens: Optional[int]`\n\nThe number of input tokens read from the cache.\n\n- `input_tokens: int`\n\nThe number of input tokens which were used.\n\n- `output_tokens: int`\n\nThe number of output tokens which were used.\n\n- `server_tool_use: Optional[BetaServerToolUsage]`\n\nThe number of server tool requests.\n\n- `web_fetch_requests: int`\n\nThe number of web fetch tool requests.\n\n- `web_search_requests: int`\n\nThe number of web search tool requests.\n\n- `service_tier: Optional[Literal[\"standard\", \"priority\", \"batch\"]]`\n\nIf the request used the priority, standard, or batch tier.\n\n- `type: Literal[\"succeeded\"]`\n\n- `class BetaMessageBatchErroredResult: …`\n\n- `error: BetaErrorResponse`\n\n- `class BetaInvalidRequestError: …`\n\n- `type: Literal[\"invalid_request_error\"]`\n\n- `\"invalid_request_error\"`\n\n- `class BetaAuthenticationError: …`\n\n- `type: Literal[\"authentication_error\"]`\n\n- `\"authentication_error\"`\n\n- `class BetaBillingError: …`\n\n- `type: Literal[\"billing_error\"]`\n\n- `class BetaPermissionError: …`\n\n- `type: Literal[\"permission_error\"]`\n\n- `\"permission_error\"`\n\n- `class BetaNotFoundError: …`\n\n- `type: Literal[\"not_found_error\"]`\n\n- `\"not_found_error\"`\n\n- `class BetaRateLimitError: …`\n\n- `type: Literal[\"rate_limit_error\"]`\n\n- `\"rate_limit_error\"`\n\n- `class BetaGatewayTimeoutError: …`\n\n- `type: Literal[\"timeout_error\"]`\n\n- `class BetaAPIError: …`\n\n- `type: Literal[\"api_error\"]`\n\n- `class BetaOverloadedError: …`\n\n- `type: Literal[\"overloaded_error\"]`\n\n- `\"overloaded_error\"`\n\n- `request_id: Optional[str]`\n\n- `type: Literal[\"error\"]`\n\n- `type: Literal[\"errored\"]`\n\n- `class BetaMessageBatchCanceledResult: …`\n\n- `type: Literal[\"canceled\"]`\n\n- `class BetaMessageBatchExpiredResult: …`\n\n- `type: Literal[\"expired\"]`",
  "code_samples": [
    {
      "code": "[{\"type\": \"text\", \"text\": \"Hi, I'm Claude.\"}]",
      "language": "json"
    },
    {
      "code": "[\n            {\"role\": \"user\", \"content\": \"What's the Greek name for Sun? (A) Sol (B) Helios (C) Sun\"},\n            {\"role\": \"assistant\", \"content\": \"The best answer is (\"}\n          ]",
      "language": "json"
    },
    {
      "code": "[{\"type\": \"text\", \"text\": \"B)\"}]",
      "language": "json"
    },
    {
      "code": "import os\nfrom anthropic import Anthropic\n\nclient = Anthropic(\n    api_key=os.environ.get(\"ANTHROPIC_API_KEY\"),  # This is the default and can be omitted\n)\nbeta_message_batch_individual_response = client.beta.messages.batches.results(\n    message_batch_id=\"message_batch_id\",\n)\nprint(beta_message_batch_individual_response.custom_id)",
      "language": "python"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Results",
      "id": "results"
    },
    {
      "level": "h3",
      "text": "Parameters",
      "id": "parameters"
    },
    {
      "level": "h3",
      "text": "Returns",
      "id": "returns"
    },
    {
      "level": "h3",
      "text": "Example",
      "id": "example"
    }
  ],
  "url": "llms-txt#retrieve-message-batch-results-(beta)-(python)",
  "links": []
}