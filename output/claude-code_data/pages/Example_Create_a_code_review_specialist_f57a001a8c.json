{
  "title": "Example: Create a code review specialist",
  "content": "await create_output_style(\n    'Code Reviewer',\n    'Thorough code review assistant',\n    \"\"\"You are an expert code reviewer.\n\nFor every code submission:\n1. Check for bugs and security issues\n2. Evaluate performance\n3. Suggest improvements\n4. Rate code quality (1-10)\"\"\"\n)\ntypescript TypeScript\nimport { query } from \"@anthropic-ai/claude-agent-sdk\";\n\nfor await (const message of query({\n  prompt: \"Help me write a Python function to calculate fibonacci numbers\",\n  options: {\n    systemPrompt: {\n      type: \"preset\",\n      preset: \"claude_code\",\n      append:\n        \"Always include detailed docstrings and type hints in Python code.\",\n    },\n  },\n})) {\n  messages.push(message);\n  if (message.type === \"assistant\") {\n    console.log(message.message.content);\n  }\n}\npython Python\nfrom claude_agent_sdk import query, ClaudeAgentOptions\n\nasync for message in query(\n    prompt=\"Help me write a Python function to calculate fibonacci numbers\",\n    options=ClaudeAgentOptions(\n        system_prompt={\n            \"type\": \"preset\",\n            \"preset\": \"claude_code\",\n            \"append\": \"Always include detailed docstrings and type hints in Python code.\"\n        }\n    )\n):\n    messages.append(message)\n    if message.type == 'assistant':\n        print(message.message.content)\ntypescript TypeScript\nimport { query } from \"@anthropic-ai/claude-agent-sdk\";\n\nconst customPrompt = `You are a Python coding specialist.\nFollow these guidelines:\n- Write clean, well-documented code\n- Use type hints for all functions\n- Include comprehensive docstrings\n- Prefer functional programming patterns when appropriate\n- Always explain your code choices`;\n\nfor await (const message of query({\n  prompt: \"Create a data processing pipeline\",\n  options: {\n    systemPrompt: customPrompt,\n  },\n})) {\n  messages.push(message);\n  if (message.type === \"assistant\") {\n    console.log(message.message.content);\n  }\n}\npython Python\nfrom claude_agent_sdk import query, ClaudeAgentOptions\n\ncustom_prompt = \"\"\"You are a Python coding specialist.\nFollow these guidelines:\n- Write clean, well-documented code\n- Use type hints for all functions\n- Include comprehensive docstrings\n- Prefer functional programming patterns when appropriate\n- Always explain your code choices\"\"\"\n\nasync for message in query(\n    prompt=\"Create a data processing pipeline\",\n    options=ClaudeAgentOptions(\n        system_prompt=custom_prompt\n    )\n):\n    messages.append(message)\n    if message.type == 'assistant':\n        print(message.message.content)\ntypescript TypeScript\nimport { query } from \"@anthropic-ai/claude-agent-sdk\";\n\n// Assuming \"Code Reviewer\" output style is active (via /output-style)\n// Add session-specific focus areas\nconst messages = [];\n\nfor await (const message of query({\n  prompt: \"Review this authentication module\",\n  options: {\n    systemPrompt: {\n      type: \"preset\",\n      preset: \"claude_code\",\n      append: `\n        For this review, prioritize:\n        - OAuth 2.0 compliance\n        - Token storage security\n        - Session management\n      `,\n    },\n  },\n})) {\n  messages.push(message);\n}\npython Python\nfrom claude_agent_sdk import query, ClaudeAgentOptions",
  "code_samples": [
    {
      "code": "</CodeGroup>\n\n#### Using output styles\n\nOnce created, activate output styles via:\n\n- **CLI**: `/output-style [style-name]`\n- **Settings**: `.claude/settings.local.json`\n- **Create new**: `/output-style:new [description]`\n\n**Note for SDK users:** Output styles are loaded when you include `settingSources: ['user']` or `settingSources: ['project']` (TypeScript) / `setting_sources=[\"user\"]` or `setting_sources=[\"project\"]` (Python) in your options.\n\n### Method 3: Using `systemPrompt` with append\n\nYou can use the Claude Code preset with an `append` property to add your custom instructions while preserving all built-in functionality.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### Method 4: Custom system prompts\n\nYou can provide a custom string as `systemPrompt` to replace the default entirely with your own instructions.\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n## Comparison of all four approaches\n\n| Feature                 | CLAUDE.md           | Output Styles      | `systemPrompt` with append | Custom `systemPrompt`     |\n| ----------------------- | ------------------- | ------------------ | -------------------------- | ------------------------- |\n| **Persistence**         | Per-project file | Saved as files  | Session only            | Session only           |\n| **Reusability**         | Per-project      | Across projects | Code duplication        | Code duplication       |\n| **Management**          | On filesystem    | CLI + files     | In code                 | In code                |\n| **Default tools**       | Preserved        | Preserved       | Preserved               | Lost (unless included) |\n| **Built-in safety**     | Maintained       | Maintained      | Maintained              | Must be added          |\n| **Environment context** | Automatic        | Automatic       | Automatic               | Must be provided       |\n| **Customization level** | Additions only   | Replace default | Additions only          | Complete control       |\n| **Version control**     | With project     | Yes             | With code               | With code              |\n| **Scope**               | Project-specific | User or project | Code session            | Code session           |\n\n**Note:** \"With append\" means using `systemPrompt: { type: \"preset\", preset: \"claude_code\", append: \"...\" }` in TypeScript or `system_prompt={\"type\": \"preset\", \"preset\": \"claude_code\", \"append\": \"...\"}` in Python.\n\n## Use cases and best practices\n\n### When to use CLAUDE.md\n\n**Best for:**\n\n- Project-specific coding standards and conventions\n- Documenting project structure and architecture\n- Listing common commands (build, test, deploy)\n- Team-shared context that should be version controlled\n- Instructions that apply to all SDK usage in a project\n\n**Examples:**\n\n- \"All API endpoints should use async/await patterns\"\n- \"Run `npm run lint:fix` before committing\"\n- \"Database migrations are in the `migrations/` directory\"\n\n**Important:** To load CLAUDE.md files, you must explicitly set `settingSources: ['project']` (TypeScript) or `setting_sources=[\"project\"]` (Python). The `claude_code` system prompt preset does NOT automatically load CLAUDE.md without this setting.\n\n### When to use output styles\n\n**Best for:**\n\n- Persistent behavior changes across sessions\n- Team-shared configurations\n- Specialized assistants (code reviewer, data scientist, DevOps)\n- Complex prompt modifications that need versioning\n\n**Examples:**\n\n- Creating a dedicated SQL optimization assistant\n- Building a security-focused code reviewer\n- Developing a teaching assistant with specific pedagogy\n\n### When to use `systemPrompt` with append\n\n**Best for:**\n\n- Adding specific coding standards or preferences\n- Customizing output formatting\n- Adding domain-specific knowledge\n- Modifying response verbosity\n- Enhancing Claude Code's default behavior without losing tool instructions\n\n### When to use custom `systemPrompt`\n\n**Best for:**\n\n- Complete control over Claude's behavior\n- Specialized single-session tasks\n- Testing new prompt strategies\n- Situations where default tools aren't needed\n- Building specialized agents with unique behavior\n\n## Combining approaches\n\nYou can combine these methods for maximum flexibility:\n\n### Example: Output style with session-specific additions\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h3",
      "text": "Method 3: Using `systemPrompt` with append",
      "id": "method-3:-using-`systemprompt`-with-append"
    },
    {
      "level": "h3",
      "text": "Method 4: Custom system prompts",
      "id": "method-4:-custom-system-prompts"
    },
    {
      "level": "h2",
      "text": "Comparison of all four approaches",
      "id": "comparison-of-all-four-approaches"
    },
    {
      "level": "h2",
      "text": "Use cases and best practices",
      "id": "use-cases-and-best-practices"
    },
    {
      "level": "h3",
      "text": "When to use CLAUDE.md",
      "id": "when-to-use-claude.md"
    },
    {
      "level": "h3",
      "text": "When to use output styles",
      "id": "when-to-use-output-styles"
    },
    {
      "level": "h3",
      "text": "When to use `systemPrompt` with append",
      "id": "when-to-use-`systemprompt`-with-append"
    },
    {
      "level": "h3",
      "text": "When to use custom `systemPrompt`",
      "id": "when-to-use-custom-`systemprompt`"
    },
    {
      "level": "h2",
      "text": "Combining approaches",
      "id": "combining-approaches"
    },
    {
      "level": "h3",
      "text": "Example: Output style with session-specific additions",
      "id": "example:-output-style-with-session-specific-additions"
    }
  ],
  "url": "llms-txt#example:-create-a-code-review-specialist",
  "links": []
}