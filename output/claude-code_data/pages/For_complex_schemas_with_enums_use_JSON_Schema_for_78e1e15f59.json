{
  "title": "For complex schemas with enums, use JSON Schema format",
  "content": "@tool(\n    \"api_request\",\n    \"Make authenticated API requests to external services\",\n    {\n        \"type\": \"object\",\n        \"properties\": {\n            \"service\": {\"type\": \"string\", \"enum\": [\"stripe\", \"github\", \"openai\", \"slack\"]},\n            \"endpoint\": {\"type\": \"string\"},\n            \"method\": {\"type\": \"string\", \"enum\": [\"GET\", \"POST\", \"PUT\", \"DELETE\"]},\n            \"body\": {\"type\": \"object\"},\n            \"query\": {\"type\": \"object\"}\n        },\n        \"required\": [\"service\", \"endpoint\", \"method\"]\n    }\n)\nasync def api_request(args: dict[str, Any]) -> dict[str, Any]:\n    config = {\n        \"stripe\": {\"base_url\": \"https://api.stripe.com/v1\", \"key\": os.environ[\"STRIPE_KEY\"]},\n        \"github\": {\"base_url\": \"https://api.github.com\", \"key\": os.environ[\"GITHUB_TOKEN\"]},\n        \"openai\": {\"base_url\": \"https://api.openai.com/v1\", \"key\": os.environ[\"OPENAI_KEY\"]},\n        \"slack\": {\"base_url\": \"https://slack.com/api\", \"key\": os.environ[\"SLACK_TOKEN\"]}\n    }\n    \n    service_config = config[args[\"service\"]]\n    url = f\"{service_config['base_url']}{args['endpoint']}\"\n    \n    if args.get(\"query\"):\n        params = \"&\".join([f\"{k}={v}\" for k, v in args[\"query\"].items()])\n        url += f\"?{params}\"\n    \n    headers = {\"Authorization\": f\"Bearer {service_config['key']}\", \"Content-Type\": \"application/json\"}\n    \n    async with aiohttp.ClientSession() as session:\n        async with session.request(\n            args[\"method\"], url, headers=headers, json=args.get(\"body\")\n        ) as response:\n            data = await response.json()\n            return {\n                \"content\": [{\n                    \"type\": \"text\",\n                    \"text\": json.dumps(data, indent=2)\n                }]\n            }\n\napi_gateway_server = create_sdk_mcp_server(\n    name=\"api-gateway\",\n    version=\"1.0.0\",\n    tools=[api_request]  # Pass the decorated function\n)\ntypescript TypeScript\nconst calculatorServer = createSdkMcpServer({\n  name: \"calculator\",\n  version: \"1.0.0\",\n  tools: [\n    tool(\n      \"calculate\",\n      \"Perform mathematical calculations\",\n      {\n        expression: z.string().describe(\"Mathematical expression to evaluate\"),\n        precision: z.number().optional().default(2).describe(\"Decimal precision\")\n      },\n      async (args) => {\n        try {\n          // Use a safe math evaluation library in production\n          const result = eval(args.expression); // Example only!\n          const formatted = Number(result).toFixed(args.precision);\n          \n          return {\n            content: [{\n              type: \"text\",\n              text: `${args.expression} = ${formatted}`\n            }]\n          };\n        } catch (error) {\n          return {\n            content: [{\n              type: \"text\",\n              text: `Error: Invalid expression - ${error.message}`\n            }]\n          };\n        }\n      }\n    ),\n    tool(\n      \"compound_interest\",\n      \"Calculate compound interest for an investment\",\n      {\n        principal: z.number().positive().describe(\"Initial investment amount\"),\n        rate: z.number().describe(\"Annual interest rate (as decimal, e.g., 0.05 for 5%)\"),\n        time: z.number().positive().describe(\"Investment period in years\"),\n        n: z.number().positive().default(12).describe(\"Compounding frequency per year\")\n      },\n      async (args) => {\n        const amount = args.principal * Math.pow(1 + args.rate / args.n, args.n * args.time);\n        const interest = amount - args.principal;\n        \n        return {\n          content: [{\n            type: \"text\",\n            text: `Investment Analysis:\\n` +\n                  `Principal: $${args.principal.toFixed(2)}\\n` +\n                  `Rate: ${(args.rate * 100).toFixed(2)}%\\n` +\n                  `Time: ${args.time} years\\n` +\n                  `Compounding: ${args.n} times per year\\n\\n` +\n                  `Final Amount: $${amount.toFixed(2)}\\n` +\n                  `Interest Earned: $${interest.toFixed(2)}\\n` +\n                  `Return: ${((interest / args.principal) * 100).toFixed(2)}%`\n          }]\n        };\n      }\n    )\n  ]\n});\npython Python\nimport math\nfrom typing import Any\n\n@tool(\n    \"calculate\",\n    \"Perform mathematical calculations\",\n    {\"expression\": str, \"precision\": int}  # Simple schema\n)\nasync def calculate(args: dict[str, Any]) -> dict[str, Any]:\n    try:\n        # Use a safe math evaluation library in production\n        result = eval(args[\"expression\"], {\"__builtins__\": {}})\n        precision = args.get(\"precision\", 2)\n        formatted = round(result, precision)\n        \n        return {\n            \"content\": [{\n                \"type\": \"text\",\n                \"text\": f\"{args['expression']} = {formatted}\"\n            }]\n        }\n    except Exception as e:\n        return {\n            \"content\": [{\n                \"type\": \"text\",\n                \"text\": f\"Error: Invalid expression - {str(e)}\"\n            }]\n        }\n\n@tool(\n    \"compound_interest\",\n    \"Calculate compound interest for an investment\",\n    {\"principal\": float, \"rate\": float, \"time\": float, \"n\": int}\n)\nasync def compound_interest(args: dict[str, Any]) -> dict[str, Any]:\n    principal = args[\"principal\"]\n    rate = args[\"rate\"]\n    time = args[\"time\"]\n    n = args.get(\"n\", 12)\n    \n    amount = principal * (1 + rate / n) ** (n * time)\n    interest = amount - principal\n    \n    return {\n        \"content\": [{\n            \"type\": \"text\",\n            \"text\": f\"\"\"Investment Analysis:\nPrincipal: ${principal:.2f}\nRate: {rate * 100:.2f}%\nTime: {time} years\nCompounding: {n} times per year\n\nFinal Amount: ${amount:.2f}\nInterest Earned: ${interest:.2f}\nReturn: {(interest / principal) * 100:.2f}%\"\"\"\n        }]\n    }\n\ncalculator_server = create_sdk_mcp_server(\n    name=\"calculator\",\n    version=\"1.0.0\",\n    tools=[calculate, compound_interest]  # Pass decorated functions\n)\n```\n\n## Related Documentation\n\n- [TypeScript SDK Reference](/docs/en/agent-sdk/typescript)\n- [Python SDK Reference](/docs/en/agent-sdk/python)\n- [MCP Documentation](https://modelcontextprotocol.io)\n- [SDK Overview](/docs/en/agent-sdk/overview)",
  "code_samples": [
    {
      "code": "</CodeGroup>\n\n### Calculator Tool\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h3",
      "text": "Calculator Tool",
      "id": "calculator-tool"
    },
    {
      "level": "h2",
      "text": "Related Documentation",
      "id": "related-documentation"
    }
  ],
  "url": "llms-txt#for-complex-schemas-with-enums,-use-json-schema-format",
  "links": []
}