{
  "title": "Structured outputs",
  "content": "Get validated JSON results from agent workflows\n\nStructured outputs constrain Claude's responses to follow a specific schema, ensuring valid, parseable output for downstream processing. Two complementary features are available:\n\n- **JSON outputs** (`output_format`): Get Claude's response in a specific JSON format\n- **Strict tool use** (`strict: true`): Guarantee schema validation on tool names and inputs\n\nThese features can be used independently or together in the same request.\n\n<Note>\nStructured outputs are currently available as a public beta feature in the Claude API for Claude Sonnet 4.5, Claude Opus 4.1, Claude Opus 4.5, and Claude Haiku 4.5.\n\nTo use the feature, set the [beta header](/docs/en/api/beta-headers) `structured-outputs-2025-11-13`.\n</Note>\n\n<Tip>\nShare feedback using this [form](https://forms.gle/BFnYc6iCkWoRzFgk7).\n</Tip>\n\n## Why use structured outputs\n\nWithout structured outputs, Claude can generate malformed JSON responses or invalid tool inputs that break your applications. Even with careful prompting, you may encounter:\n- Parsing errors from invalid JSON syntax\n- Missing required fields\n- Inconsistent data types\n- Schema violations requiring error handling and retries\n\nStructured outputs guarantee schema-compliant responses through constrained decoding:\n- **Always valid**: No more `JSON.parse()` errors\n- **Type safe**: Guaranteed field types and required fields\n- **Reliable**: No retries needed for schema violations\n\nJSON outputs control Claude's response format, ensuring Claude returns valid JSON matching your schema. Use JSON outputs when you need to:\n\n- Control Claude's response format\n- Extract data from images or text\n- Generate structured reports\n- Format API responses\n\n**Response format:** Valid JSON matching your schema in `response.content[0].text`\n\n<Steps>\n  <Step title=\"Define your JSON schema\">\n    Create a JSON schema that describes the structure you want Claude to follow. The schema uses standard JSON Schema format with some limitations (see [JSON Schema limitations](#json-schema-limitations)).\n  </Step>\n  <Step title=\"Add the output_format parameter\">\n    Include the `output_format` parameter in your API request with `type: \"json_schema\"` and your schema definition.\n  </Step>\n  <Step title=\"Include the beta header\">\n    Add the `anthropic-beta: structured-outputs-2025-11-13` header to your request.\n  </Step>\n  <Step title=\"Parse the response\">\n    Claude's response will be valid JSON matching your schema, returned in `response.content[0].text`.\n  </Step>\n</Steps>\n\n### Working with JSON outputs in SDKs\n\nThe Python and TypeScript SDKs provide helpers that make it easier to work with JSON outputs, including schema transformation, automatic validation, and integration with popular schema libraries.\n\n#### Using Pydantic and Zod\n\nFor Python and TypeScript developers, you can use familiar schema definition tools like Pydantic and Zod instead of writing raw JSON schemas.\n\n```python Python\nfrom pydantic import BaseModel\nfrom anthropic import Anthropic, transform_schema\n\nclass ContactInfo(BaseModel):\n    name: str\n    email: str\n    plan_interest: str\n    demo_requested: bool",
  "code_samples": [
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n**Response format:** Valid JSON matching your schema in `response.content[0].text`",
      "language": "unknown"
    },
    {
      "code": "### How it works\n\n<Steps>\n  <Step title=\"Define your JSON schema\">\n    Create a JSON schema that describes the structure you want Claude to follow. The schema uses standard JSON Schema format with some limitations (see [JSON Schema limitations](#json-schema-limitations)).\n  </Step>\n  <Step title=\"Add the output_format parameter\">\n    Include the `output_format` parameter in your API request with `type: \"json_schema\"` and your schema definition.\n  </Step>\n  <Step title=\"Include the beta header\">\n    Add the `anthropic-beta: structured-outputs-2025-11-13` header to your request.\n  </Step>\n  <Step title=\"Parse the response\">\n    Claude's response will be valid JSON matching your schema, returned in `response.content[0].text`.\n  </Step>\n</Steps>\n\n### Working with JSON outputs in SDKs\n\nThe Python and TypeScript SDKs provide helpers that make it easier to work with JSON outputs, including schema transformation, automatic validation, and integration with popular schema libraries.\n\n#### Using Pydantic and Zod\n\nFor Python and TypeScript developers, you can use familiar schema definition tools like Pydantic and Zod instead of writing raw JSON schemas.\n\n<CodeGroup>",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Why use structured outputs",
      "id": "why-use-structured-outputs"
    },
    {
      "level": "h2",
      "text": "JSON outputs",
      "id": "json-outputs"
    },
    {
      "level": "h3",
      "text": "Quick start",
      "id": "quick-start"
    },
    {
      "level": "h3",
      "text": "How it works",
      "id": "how-it-works"
    },
    {
      "level": "h3",
      "text": "Working with JSON outputs in SDKs",
      "id": "working-with-json-outputs-in-sdks"
    }
  ],
  "url": "llms-txt#structured-outputs",
  "links": []
}