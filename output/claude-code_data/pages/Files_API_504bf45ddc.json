{
  "title": "Files API",
  "content": "The Files API lets you upload and manage files to use with the Claude API without re-uploading content with each request. This is particularly useful when using the [code execution tool](/docs/en/agents-and-tools/tool-use/code-execution-tool) to provide inputs (e.g. datasets and documents) and then download outputs (e.g. charts). You can also use the Files API to prevent having to continually re-upload frequently used documents and images across multiple API calls. You can [explore the API reference directly](/docs/en/api/files-create), in addition to this guide.\n\n<Note>\nThe Files API is currently in beta. Please reach out through our [feedback form](https://forms.gle/tisHyierGwgN4DUE9) to share your experience with the Files API.\n</Note>\n\nReferencing a `file_id` in a Messages request is supported in all models that support the given file type. For example, [images](/docs/en/build-with-claude/vision) are supported in all Claude 3+ models, [PDFs](/docs/en/build-with-claude/pdf-support) in all Claude 3.5+ models, and [various other file types](/docs/en/agents-and-tools/tool-use/code-execution-tool#supported-file-types) for the code execution tool in Claude Haiku 4.5 plus all Claude 3.7+ models.\n\nThe Files API is currently not supported on Amazon Bedrock or Google Vertex AI.\n\n## How the Files API works\n\nThe Files API provides a simple create-once, use-many-times approach for working with files:\n\n- **Upload files** to our secure storage and receive a unique `file_id`\n- **Download files** that are created from skills or the code execution tool\n- **Reference files** in [Messages](/docs/en/api/messages) requests using the `file_id` instead of re-uploading content\n- **Manage your files** with list, retrieve, and delete operations\n\n## How to use the Files API\n\n<Note>\nTo use the Files API, you'll need to include the beta feature header: `anthropic-beta: files-api-2025-04-14`.\n</Note>\n\nUpload a file to be referenced in future API calls:\n\nThe response from uploading a file will include:\n\n### Using a file in messages\n\nOnce uploaded, reference the file using its `file_id`:\n\n### File types and content blocks\n\nThe Files API supports different file types that correspond to different content block types:\n\n| File Type | MIME Type | Content Block Type | Use Case |\n| :--- | :--- | :--- | :--- |\n| PDF | `application/pdf` | `document` | Text analysis, document processing |\n| Plain text | `text/plain` | `document` | Text analysis, processing |\n| Images | `image/jpeg`, `image/png`, `image/gif`, `image/webp` | `image` | Image analysis, visual tasks |\n| [Datasets, others](/docs/en/agents-and-tools/tool-use/code-execution-tool#supported-file-types) | Varies | `container_upload` | Analyze data, create visualizations  |\n\n### Working with other file formats\n\nFor file types that are not supported as `document` blocks (.csv, .txt, .md, .docx, .xlsx), convert the files to plain text, and include the content directly in your message:\n\n<CodeGroup>\n```bash Shell",
  "code_samples": [
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\nThe response from uploading a file will include:",
      "language": "unknown"
    },
    {
      "code": "### Using a file in messages\n\nOnce uploaded, reference the file using its `file_id`:\n\n<CodeGroup>",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "",
      "language": "unknown"
    },
    {
      "code": "</CodeGroup>\n\n### File types and content blocks\n\nThe Files API supports different file types that correspond to different content block types:\n\n| File Type | MIME Type | Content Block Type | Use Case |\n| :--- | :--- | :--- | :--- |\n| PDF | `application/pdf` | `document` | Text analysis, document processing |\n| Plain text | `text/plain` | `document` | Text analysis, processing |\n| Images | `image/jpeg`, `image/png`, `image/gif`, `image/webp` | `image` | Image analysis, visual tasks |\n| [Datasets, others](/docs/en/agents-and-tools/tool-use/code-execution-tool#supported-file-types) | Varies | `container_upload` | Analyze data, create visualizations  |\n\n### Working with other file formats\n\nFor file types that are not supported as `document` blocks (.csv, .txt, .md, .docx, .xlsx), convert the files to plain text, and include the content directly in your message:\n\n<CodeGroup>",
      "language": "unknown"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Supported models",
      "id": "supported-models"
    },
    {
      "level": "h2",
      "text": "How the Files API works",
      "id": "how-the-files-api-works"
    },
    {
      "level": "h2",
      "text": "How to use the Files API",
      "id": "how-to-use-the-files-api"
    },
    {
      "level": "h3",
      "text": "Uploading a file",
      "id": "uploading-a-file"
    },
    {
      "level": "h3",
      "text": "Using a file in messages",
      "id": "using-a-file-in-messages"
    },
    {
      "level": "h3",
      "text": "File types and content blocks",
      "id": "file-types-and-content-blocks"
    },
    {
      "level": "h3",
      "text": "Working with other file formats",
      "id": "working-with-other-file-formats"
    }
  ],
  "url": "llms-txt#files-api",
  "links": []
}