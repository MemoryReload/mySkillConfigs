{
  "title": "Retrieve Message Batch results (Beta) (Kotlin)",
  "content": "URL: https://platform.claude.com/docs/en/api/kotlin/beta/messages/batches/results\n\n`beta().messages().batches().resultsStreaming(BatchResultsParamsparams = BatchResultsParams.none(), RequestOptionsrequestOptions = RequestOptions.none()) : BetaMessageBatchIndividualResponse`\n\n**get** `/v1/messages/batches/{message_batch_id}/results`\n\nStreams the results of a Message Batch as a `.jsonl` file.\n\nEach line in the file is a JSON object containing the result of a single request in the Message Batch. Results are not guaranteed to be in the same order as requests. Use the `custom_id` field to match results to requests.\n\nLearn more about the Message Batches API in our [user guide](https://docs.claude.com/en/docs/build-with-claude/batch-processing)\n\n- `params: BatchResultsParams`\n\n- `messageBatchId: Optional<String>`\n\nID of the Message Batch.\n\n- `betas: Optional<List<AnthropicBeta>>`\n\nOptional header to specify the beta version(s) you want to use.\n\n- `MESSAGE_BATCHES_2024_09_24(\"message-batches-2024-09-24\")`\n\n- `PROMPT_CACHING_2024_07_31(\"prompt-caching-2024-07-31\")`\n\n- `COMPUTER_USE_2024_10_22(\"computer-use-2024-10-22\")`\n\n- `COMPUTER_USE_2025_01_24(\"computer-use-2025-01-24\")`\n\n- `PDFS_2024_09_25(\"pdfs-2024-09-25\")`\n\n- `TOKEN_COUNTING_2024_11_01(\"token-counting-2024-11-01\")`\n\n- `TOKEN_EFFICIENT_TOOLS_2025_02_19(\"token-efficient-tools-2025-02-19\")`\n\n- `OUTPUT_128K_2025_02_19(\"output-128k-2025-02-19\")`\n\n- `FILES_API_2025_04_14(\"files-api-2025-04-14\")`\n\n- `MCP_CLIENT_2025_04_04(\"mcp-client-2025-04-04\")`\n\n- `MCP_CLIENT_2025_11_20(\"mcp-client-2025-11-20\")`\n\n- `DEV_FULL_THINKING_2025_05_14(\"dev-full-thinking-2025-05-14\")`\n\n- `INTERLEAVED_THINKING_2025_05_14(\"interleaved-thinking-2025-05-14\")`\n\n- `CODE_EXECUTION_2025_05_22(\"code-execution-2025-05-22\")`\n\n- `EXTENDED_CACHE_TTL_2025_04_11(\"extended-cache-ttl-2025-04-11\")`\n\n- `CONTEXT_1M_2025_08_07(\"context-1m-2025-08-07\")`\n\n- `CONTEXT_MANAGEMENT_2025_06_27(\"context-management-2025-06-27\")`\n\n- `MODEL_CONTEXT_WINDOW_EXCEEDED_2025_08_26(\"model-context-window-exceeded-2025-08-26\")`\n\n- `SKILLS_2025_10_02(\"skills-2025-10-02\")`\n\n- `class BetaMessageBatchIndividualResponse:`\n\nThis is a single line in the response `.jsonl` file and does not represent the response as a whole.\n\nDeveloper-provided ID created for each request in a Message Batch. Useful for matching results to requests, as results may be given out of request order.\n\nMust be unique for each request within the Message Batch.\n\n- `result: BetaMessageBatchResult`\n\nProcessing result for this request.\n\nContains a Message output if processing was successful, an error response if processing failed, or the reason why processing was not attempted, such as cancellation or expiration.\n\n- `class BetaMessageBatchSucceededResult:`\n\n- `message: BetaMessage`\n\nUnique object identifier.\n\nThe format and length of IDs may change over time.\n\n- `container: Optional<BetaContainer>`\n\nInformation about the container used in the request (for the code execution tool)\n\nIdentifier for the container used in this request\n\n- `expiresAt: LocalDateTime`\n\nThe time at which the container will expire.\n\n- `skills: Optional<List<BetaSkill>>`\n\nSkills loaded in the container\n\nType of skill - either 'anthropic' (built-in) or 'custom' (user-defined)\n\n- `ANTHROPIC(\"anthropic\")`\n\nSkill version or 'latest' for most recent version\n\n- `content: List<BetaContentBlock>`\n\nContent generated by the model.\n\nThis is an array of content blocks, each of which has a `type` that determines its shape.\n\nIf the request input `messages` ended with an `assistant` turn, then the response `content` will continue directly from that last turn. You can use this to constrain the model's output.\n\nFor example, if the input `messages` were:\n\nThen the response `content` might be:\n\n- `class BetaTextBlock:`\n\n- `citations: Optional<List<BetaTextCitation>>`\n\nCitations supporting the text block.\n\nThe type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.\n\n- `class BetaCitationCharLocation:`\n\n- `citedText: String`\n\n- `documentIndex: Long`\n\n- `documentTitle: Optional<String>`\n\n- `endCharIndex: Long`\n\n- `fileId: Optional<String>`\n\n- `startCharIndex: Long`\n\n- `type: JsonValue; \"char_location\"constant`\n\n- `CHAR_LOCATION(\"char_location\")`\n\n- `class BetaCitationPageLocation:`\n\n- `citedText: String`\n\n- `documentIndex: Long`\n\n- `documentTitle: Optional<String>`\n\n- `endPageNumber: Long`\n\n- `fileId: Optional<String>`\n\n- `startPageNumber: Long`\n\n- `type: JsonValue; \"page_location\"constant`\n\n- `PAGE_LOCATION(\"page_location\")`\n\n- `class BetaCitationContentBlockLocation:`\n\n- `citedText: String`\n\n- `documentIndex: Long`\n\n- `documentTitle: Optional<String>`\n\n- `endBlockIndex: Long`\n\n- `fileId: Optional<String>`\n\n- `startBlockIndex: Long`\n\n- `type: JsonValue; \"content_block_location\"constant`\n\n- `CONTENT_BLOCK_LOCATION(\"content_block_location\")`\n\n- `class BetaCitationsWebSearchResultLocation:`\n\n- `citedText: String`\n\n- `encryptedIndex: String`\n\n- `title: Optional<String>`\n\n- `type: JsonValue; \"web_search_result_location\"constant`\n\n- `WEB_SEARCH_RESULT_LOCATION(\"web_search_result_location\")`\n\n- `class BetaCitationSearchResultLocation:`\n\n- `citedText: String`\n\n- `endBlockIndex: Long`\n\n- `searchResultIndex: Long`\n\n- `startBlockIndex: Long`\n\n- `title: Optional<String>`\n\n- `type: JsonValue; \"search_result_location\"constant`\n\n- `SEARCH_RESULT_LOCATION(\"search_result_location\")`\n\n- `type: JsonValue; \"text\"constant`\n\n- `class BetaThinkingBlock:`\n\n- `signature: String`\n\n- `type: JsonValue; \"thinking\"constant`\n\n- `THINKING(\"thinking\")`\n\n- `class BetaRedactedThinkingBlock:`\n\n- `type: JsonValue; \"redacted_thinking\"constant`\n\n- `REDACTED_THINKING(\"redacted_thinking\")`\n\n- `class BetaToolUseBlock:`\n\n- `type: JsonValue; \"tool_use\"constant`\n\n- `TOOL_USE(\"tool_use\")`\n\n- `caller: Optional<Caller>`\n\nTool invocation directly from the model.\n\n- `class BetaDirectCaller:`\n\nTool invocation directly from the model.\n\n- `type: JsonValue; \"direct\"constant`\n\n- `class BetaServerToolCaller:`\n\nTool invocation generated by a server-side tool.\n\n- `type: JsonValue; \"code_execution_20250825\"constant`\n\n- `CODE_EXECUTION_20250825(\"code_execution_20250825\")`\n\n- `class BetaServerToolUseBlock:`\n\nTool invocation directly from the model.\n\n- `class BetaDirectCaller:`\n\nTool invocation directly from the model.\n\n- `type: JsonValue; \"direct\"constant`\n\n- `class BetaServerToolCaller:`\n\nTool invocation generated by a server-side tool.\n\n- `type: JsonValue; \"code_execution_20250825\"constant`\n\n- `CODE_EXECUTION_20250825(\"code_execution_20250825\")`\n\n- `WEB_SEARCH(\"web_search\")`\n\n- `WEB_FETCH(\"web_fetch\")`\n\n- `CODE_EXECUTION(\"code_execution\")`\n\n- `BASH_CODE_EXECUTION(\"bash_code_execution\")`\n\n- `TEXT_EDITOR_CODE_EXECUTION(\"text_editor_code_execution\")`\n\n- `TOOL_SEARCH_TOOL_REGEX(\"tool_search_tool_regex\")`\n\n- `TOOL_SEARCH_TOOL_BM25(\"tool_search_tool_bm25\")`\n\n- `type: JsonValue; \"server_tool_use\"constant`\n\n- `SERVER_TOOL_USE(\"server_tool_use\")`\n\n- `class BetaWebSearchToolResultBlock:`\n\n- `content: BetaWebSearchToolResultBlockContent`\n\n- `class BetaWebSearchToolResultError:`\n\n- `errorCode: BetaWebSearchToolResultErrorCode`\n\n- `INVALID_TOOL_INPUT(\"invalid_tool_input\")`\n\n- `UNAVAILABLE(\"unavailable\")`\n\n- `MAX_USES_EXCEEDED(\"max_uses_exceeded\")`\n\n- `TOO_MANY_REQUESTS(\"too_many_requests\")`\n\n- `QUERY_TOO_LONG(\"query_too_long\")`\n\n- `type: JsonValue; \"web_search_tool_result_error\"constant`\n\n- `WEB_SEARCH_TOOL_RESULT_ERROR(\"web_search_tool_result_error\")`\n\n- `List<BetaWebSearchResultBlock>`\n\n- `encryptedContent: String`\n\n- `pageAge: Optional<String>`\n\n- `type: JsonValue; \"web_search_result\"constant`\n\n- `WEB_SEARCH_RESULT(\"web_search_result\")`\n\n- `toolUseId: String`\n\n- `type: JsonValue; \"web_search_tool_result\"constant`\n\n- `WEB_SEARCH_TOOL_RESULT(\"web_search_tool_result\")`\n\n- `class BetaWebFetchToolResultBlock:`\n\n- `class BetaWebFetchToolResultErrorBlock:`\n\n- `errorCode: BetaWebFetchToolResultErrorCode`\n\n- `INVALID_TOOL_INPUT(\"invalid_tool_input\")`\n\n- `URL_TOO_LONG(\"url_too_long\")`\n\n- `URL_NOT_ALLOWED(\"url_not_allowed\")`\n\n- `URL_NOT_ACCESSIBLE(\"url_not_accessible\")`\n\n- `UNSUPPORTED_CONTENT_TYPE(\"unsupported_content_type\")`\n\n- `TOO_MANY_REQUESTS(\"too_many_requests\")`\n\n- `MAX_USES_EXCEEDED(\"max_uses_exceeded\")`\n\n- `UNAVAILABLE(\"unavailable\")`\n\n- `type: JsonValue; \"web_fetch_tool_result_error\"constant`\n\n- `WEB_FETCH_TOOL_RESULT_ERROR(\"web_fetch_tool_result_error\")`\n\n- `class BetaWebFetchBlock:`\n\n- `content: BetaDocumentBlock`\n\n- `citations: Optional<BetaCitationConfig>`\n\nCitation configuration for the document\n\n- `class BetaBase64PdfSource:`\n\n- `mediaType: JsonValue; \"application/pdf\"constant`\n\n- `APPLICATION_PDF(\"application/pdf\")`\n\n- `type: JsonValue; \"base64\"constant`\n\n- `class BetaPlainTextSource:`\n\n- `mediaType: JsonValue; \"text/plain\"constant`\n\n- `TEXT_PLAIN(\"text/plain\")`\n\n- `type: JsonValue; \"text\"constant`\n\n- `title: Optional<String>`\n\nThe title of the document\n\n- `type: JsonValue; \"document\"constant`\n\n- `DOCUMENT(\"document\")`\n\n- `retrievedAt: Optional<String>`\n\nISO 8601 timestamp when the content was retrieved\n\n- `type: JsonValue; \"web_fetch_result\"constant`\n\n- `WEB_FETCH_RESULT(\"web_fetch_result\")`\n\n- `toolUseId: String`\n\n- `type: JsonValue; \"web_fetch_tool_result\"constant`\n\n- `WEB_FETCH_TOOL_RESULT(\"web_fetch_tool_result\")`\n\n- `class BetaCodeExecutionToolResultBlock:`\n\n- `content: BetaCodeExecutionToolResultBlockContent`\n\n- `class BetaCodeExecutionToolResultError:`\n\n- `errorCode: BetaCodeExecutionToolResultErrorCode`\n\n- `INVALID_TOOL_INPUT(\"invalid_tool_input\")`\n\n- `UNAVAILABLE(\"unavailable\")`\n\n- `TOO_MANY_REQUESTS(\"too_many_requests\")`\n\n- `EXECUTION_TIME_EXCEEDED(\"execution_time_exceeded\")`\n\n- `type: JsonValue; \"code_execution_tool_result_error\"constant`\n\n- `CODE_EXECUTION_TOOL_RESULT_ERROR(\"code_execution_tool_result_error\")`\n\n- `class BetaCodeExecutionResultBlock:`\n\n- `content: List<BetaCodeExecutionOutputBlock>`\n\n- `type: JsonValue; \"code_execution_output\"constant`\n\n- `CODE_EXECUTION_OUTPUT(\"code_execution_output\")`\n\n- `type: JsonValue; \"code_execution_result\"constant`\n\n- `CODE_EXECUTION_RESULT(\"code_execution_result\")`\n\n- `toolUseId: String`\n\n- `type: JsonValue; \"code_execution_tool_result\"constant`\n\n- `CODE_EXECUTION_TOOL_RESULT(\"code_execution_tool_result\")`\n\n- `class BetaBashCodeExecutionToolResultBlock:`\n\n- `class BetaBashCodeExecutionToolResultError:`\n\n- `errorCode: ErrorCode`\n\n- `INVALID_TOOL_INPUT(\"invalid_tool_input\")`\n\n- `UNAVAILABLE(\"unavailable\")`\n\n- `TOO_MANY_REQUESTS(\"too_many_requests\")`\n\n- `EXECUTION_TIME_EXCEEDED(\"execution_time_exceeded\")`\n\n- `OUTPUT_FILE_TOO_LARGE(\"output_file_too_large\")`\n\n- `type: JsonValue; \"bash_code_execution_tool_result_error\"constant`\n\n- `BASH_CODE_EXECUTION_TOOL_RESULT_ERROR(\"bash_code_execution_tool_result_error\")`\n\n- `class BetaBashCodeExecutionResultBlock:`\n\n- `content: List<BetaBashCodeExecutionOutputBlock>`\n\n- `type: JsonValue; \"bash_code_execution_output\"constant`\n\n- `BASH_CODE_EXECUTION_OUTPUT(\"bash_code_execution_output\")`\n\n- `type: JsonValue; \"bash_code_execution_result\"constant`\n\n- `BASH_CODE_EXECUTION_RESULT(\"bash_code_execution_result\")`\n\n- `toolUseId: String`\n\n- `type: JsonValue; \"bash_code_execution_tool_result\"constant`\n\n- `BASH_CODE_EXECUTION_TOOL_RESULT(\"bash_code_execution_tool_result\")`\n\n- `class BetaTextEditorCodeExecutionToolResultBlock:`\n\n- `class BetaTextEditorCodeExecutionToolResultError:`\n\n- `errorCode: ErrorCode`\n\n- `INVALID_TOOL_INPUT(\"invalid_tool_input\")`\n\n- `UNAVAILABLE(\"unavailable\")`\n\n- `TOO_MANY_REQUESTS(\"too_many_requests\")`\n\n- `EXECUTION_TIME_EXCEEDED(\"execution_time_exceeded\")`\n\n- `FILE_NOT_FOUND(\"file_not_found\")`\n\n- `errorMessage: Optional<String>`\n\n- `type: JsonValue; \"text_editor_code_execution_tool_result_error\"constant`\n\n- `TEXT_EDITOR_CODE_EXECUTION_TOOL_RESULT_ERROR(\"text_editor_code_execution_tool_result_error\")`\n\n- `class BetaTextEditorCodeExecutionViewResultBlock:`\n\n- `fileType: FileType`\n\n- `numLines: Optional<Long>`\n\n- `startLine: Optional<Long>`\n\n- `totalLines: Optional<Long>`\n\n- `type: JsonValue; \"text_editor_code_execution_view_result\"constant`\n\n- `TEXT_EDITOR_CODE_EXECUTION_VIEW_RESULT(\"text_editor_code_execution_view_result\")`\n\n- `class BetaTextEditorCodeExecutionCreateResultBlock:`\n\n- `isFileUpdate: Boolean`\n\n- `type: JsonValue; \"text_editor_code_execution_create_result\"constant`\n\n- `TEXT_EDITOR_CODE_EXECUTION_CREATE_RESULT(\"text_editor_code_execution_create_result\")`\n\n- `class BetaTextEditorCodeExecutionStrReplaceResultBlock:`\n\n- `lines: Optional<List<String>>`\n\n- `newLines: Optional<Long>`\n\n- `newStart: Optional<Long>`\n\n- `oldLines: Optional<Long>`\n\n- `oldStart: Optional<Long>`\n\n- `type: JsonValue; \"text_editor_code_execution_str_replace_result\"constant`\n\n- `TEXT_EDITOR_CODE_EXECUTION_STR_REPLACE_RESULT(\"text_editor_code_execution_str_replace_result\")`\n\n- `toolUseId: String`\n\n- `type: JsonValue; \"text_editor_code_execution_tool_result\"constant`\n\n- `TEXT_EDITOR_CODE_EXECUTION_TOOL_RESULT(\"text_editor_code_execution_tool_result\")`\n\n- `class BetaToolSearchToolResultBlock:`\n\n- `class BetaToolSearchToolResultError:`\n\n- `errorCode: ErrorCode`\n\n- `INVALID_TOOL_INPUT(\"invalid_tool_input\")`\n\n- `UNAVAILABLE(\"unavailable\")`\n\n- `TOO_MANY_REQUESTS(\"too_many_requests\")`\n\n- `EXECUTION_TIME_EXCEEDED(\"execution_time_exceeded\")`\n\n- `errorMessage: Optional<String>`\n\n- `type: JsonValue; \"tool_search_tool_result_error\"constant`\n\n- `TOOL_SEARCH_TOOL_RESULT_ERROR(\"tool_search_tool_result_error\")`\n\n- `class BetaToolSearchToolSearchResultBlock:`\n\n- `toolReferences: List<BetaToolReferenceBlock>`\n\n- `type: JsonValue; \"tool_reference\"constant`\n\n- `TOOL_REFERENCE(\"tool_reference\")`\n\n- `type: JsonValue; \"tool_search_tool_search_result\"constant`\n\n- `TOOL_SEARCH_TOOL_SEARCH_RESULT(\"tool_search_tool_search_result\")`\n\n- `toolUseId: String`\n\n- `type: JsonValue; \"tool_search_tool_result\"constant`\n\n- `TOOL_SEARCH_TOOL_RESULT(\"tool_search_tool_result\")`\n\n- `class BetaMcpToolUseBlock:`\n\nThe name of the MCP tool\n\n- `serverName: String`\n\nThe name of the MCP server\n\n- `type: JsonValue; \"mcp_tool_use\"constant`\n\n- `MCP_TOOL_USE(\"mcp_tool_use\")`\n\n- `class BetaMcpToolResultBlock:`\n\n- `List<BetaTextBlock>`\n\n- `citations: Optional<List<BetaTextCitation>>`\n\nCitations supporting the text block.\n\nThe type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.\n\n- `class BetaCitationCharLocation:`\n\n- `citedText: String`\n\n- `documentIndex: Long`\n\n- `documentTitle: Optional<String>`\n\n- `endCharIndex: Long`\n\n- `fileId: Optional<String>`\n\n- `startCharIndex: Long`\n\n- `type: JsonValue; \"char_location\"constant`\n\n- `CHAR_LOCATION(\"char_location\")`\n\n- `class BetaCitationPageLocation:`\n\n- `citedText: String`\n\n- `documentIndex: Long`\n\n- `documentTitle: Optional<String>`\n\n- `endPageNumber: Long`\n\n- `fileId: Optional<String>`\n\n- `startPageNumber: Long`\n\n- `type: JsonValue; \"page_location\"constant`\n\n- `PAGE_LOCATION(\"page_location\")`\n\n- `class BetaCitationContentBlockLocation:`\n\n- `citedText: String`\n\n- `documentIndex: Long`\n\n- `documentTitle: Optional<String>`\n\n- `endBlockIndex: Long`\n\n- `fileId: Optional<String>`\n\n- `startBlockIndex: Long`\n\n- `type: JsonValue; \"content_block_location\"constant`\n\n- `CONTENT_BLOCK_LOCATION(\"content_block_location\")`\n\n- `class BetaCitationsWebSearchResultLocation:`\n\n- `citedText: String`\n\n- `encryptedIndex: String`\n\n- `title: Optional<String>`\n\n- `type: JsonValue; \"web_search_result_location\"constant`\n\n- `WEB_SEARCH_RESULT_LOCATION(\"web_search_result_location\")`\n\n- `class BetaCitationSearchResultLocation:`\n\n- `citedText: String`\n\n- `endBlockIndex: Long`\n\n- `searchResultIndex: Long`\n\n- `startBlockIndex: Long`\n\n- `title: Optional<String>`\n\n- `type: JsonValue; \"search_result_location\"constant`\n\n- `SEARCH_RESULT_LOCATION(\"search_result_location\")`\n\n- `type: JsonValue; \"text\"constant`\n\n- `toolUseId: String`\n\n- `type: JsonValue; \"mcp_tool_result\"constant`\n\n- `MCP_TOOL_RESULT(\"mcp_tool_result\")`\n\n- `class BetaContainerUploadBlock:`\n\nResponse model for a file uploaded to the container.\n\n- `type: JsonValue; \"container_upload\"constant`\n\n- `CONTAINER_UPLOAD(\"container_upload\")`\n\n- `contextManagement: Optional<BetaContextManagementResponse>`\n\nContext management response.\n\nInformation about context management strategies applied during the request.\n\n- `appliedEdits: List<AppliedEdit>`\n\nList of context management edits that were applied.\n\n- `class BetaClearToolUses20250919EditResponse:`\n\n- `clearedInputTokens: Long`\n\nNumber of input tokens cleared by this edit.\n\n- `clearedToolUses: Long`\n\nNumber of tool uses that were cleared.\n\n- `type: JsonValue; \"clear_tool_uses_20250919\"constant`\n\nThe type of context management edit applied.\n\n- `CLEAR_TOOL_USES_20250919(\"clear_tool_uses_20250919\")`\n\n- `class BetaClearThinking20251015EditResponse:`\n\n- `clearedInputTokens: Long`\n\nNumber of input tokens cleared by this edit.\n\n- `clearedThinkingTurns: Long`\n\nNumber of thinking turns that were cleared.\n\n- `type: JsonValue; \"clear_thinking_20251015\"constant`\n\nThe type of context management edit applied.\n\n- `CLEAR_THINKING_20251015(\"clear_thinking_20251015\")`\n\nThe model that will complete your prompt.\n\nSee [models](https://docs.anthropic.com/en/docs/models-overview) for additional details and options.\n\n- `CLAUDE_OPUS_4_5_20251101(\"claude-opus-4-5-20251101\")`\n\nPremium model combining maximum intelligence with practical performance\n\n- `CLAUDE_OPUS_4_5(\"claude-opus-4-5\")`\n\nPremium model combining maximum intelligence with practical performance\n\n- `CLAUDE_3_7_SONNET_LATEST(\"claude-3-7-sonnet-latest\")`\n\nHigh-performance model with early extended thinking\n\n- `CLAUDE_3_7_SONNET_20250219(\"claude-3-7-sonnet-20250219\")`\n\nHigh-performance model with early extended thinking\n\n- `CLAUDE_3_5_HAIKU_LATEST(\"claude-3-5-haiku-latest\")`\n\nFastest and most compact model for near-instant responsiveness\n\n- `CLAUDE_3_5_HAIKU_20241022(\"claude-3-5-haiku-20241022\")`\n\n- `CLAUDE_HAIKU_4_5(\"claude-haiku-4-5\")`\n\nHybrid model, capable of near-instant responses and extended thinking\n\n- `CLAUDE_HAIKU_4_5_20251001(\"claude-haiku-4-5-20251001\")`\n\nHybrid model, capable of near-instant responses and extended thinking\n\n- `CLAUDE_SONNET_4_20250514(\"claude-sonnet-4-20250514\")`\n\nHigh-performance model with extended thinking\n\n- `CLAUDE_SONNET_4_0(\"claude-sonnet-4-0\")`\n\nHigh-performance model with extended thinking\n\n- `CLAUDE_4_SONNET_20250514(\"claude-4-sonnet-20250514\")`\n\nHigh-performance model with extended thinking\n\n- `CLAUDE_SONNET_4_5(\"claude-sonnet-4-5\")`\n\nOur best model for real-world agents and coding\n\n- `CLAUDE_SONNET_4_5_20250929(\"claude-sonnet-4-5-20250929\")`\n\nOur best model for real-world agents and coding\n\n- `CLAUDE_OPUS_4_0(\"claude-opus-4-0\")`\n\nOur most capable model\n\n- `CLAUDE_OPUS_4_20250514(\"claude-opus-4-20250514\")`\n\nOur most capable model\n\n- `CLAUDE_4_OPUS_20250514(\"claude-4-opus-20250514\")`\n\nOur most capable model\n\n- `CLAUDE_OPUS_4_1_20250805(\"claude-opus-4-1-20250805\")`\n\nOur most capable model\n\n- `CLAUDE_3_OPUS_LATEST(\"claude-3-opus-latest\")`\n\nExcels at writing and complex tasks\n\n- `CLAUDE_3_OPUS_20240229(\"claude-3-opus-20240229\")`\n\nExcels at writing and complex tasks\n\n- `CLAUDE_3_HAIKU_20240307(\"claude-3-haiku-20240307\")`\n\nOur previous most fast and cost-effective\n\n- `role: JsonValue; \"assistant\"constant`\n\nConversational role of the generated message.\n\nThis will always be `\"assistant\"`.\n\n- `ASSISTANT(\"assistant\")`\n\n- `stopReason: Optional<BetaStopReason>`\n\nThe reason that we stopped.\n\nThis may be one the following values:\n\n* `\"end_turn\"`: the model reached a natural stopping point\n          * `\"max_tokens\"`: we exceeded the requested `max_tokens` or the model's maximum\n          * `\"stop_sequence\"`: one of your provided custom `stop_sequences` was generated\n          * `\"tool_use\"`: the model invoked one or more tools\n          * `\"pause_turn\"`: we paused a long-running turn. You may provide the response back as-is in a subsequent request to let the model continue.\n          * `\"refusal\"`: when streaming classifiers intervene to handle potential policy violations\n\nIn non-streaming mode this value is always non-null. In streaming mode, it is null in the `message_start` event and non-null otherwise.\n\n- `END_TURN(\"end_turn\")`\n\n- `MAX_TOKENS(\"max_tokens\")`\n\n- `STOP_SEQUENCE(\"stop_sequence\")`\n\n- `TOOL_USE(\"tool_use\")`\n\n- `PAUSE_TURN(\"pause_turn\")`\n\n- `REFUSAL(\"refusal\")`\n\n- `MODEL_CONTEXT_WINDOW_EXCEEDED(\"model_context_window_exceeded\")`\n\n- `stopSequence: Optional<String>`\n\nWhich custom stop sequence was generated, if any.\n\nThis value will be a non-null string if one of your custom stop sequences was generated.\n\n- `type: JsonValue; \"message\"constant`\n\nFor Messages, this is always `\"message\"`.\n\n- `MESSAGE(\"message\")`\n\nBilling and rate-limit usage.\n\nAnthropic's API bills and rate-limits by token counts, as tokens represent the underlying cost to our systems.\n\nUnder the hood, the API transforms requests into a format suitable for the model. The model's output then goes through a parsing stage before becoming an API response. As a result, the token counts in `usage` will not match one-to-one with the exact visible content of an API request or response.\n\nFor example, `output_tokens` will be non-zero, even for an empty string response from Claude.\n\nTotal input tokens in a request is the summation of `input_tokens`, `cache_creation_input_tokens`, and `cache_read_input_tokens`.\n\n- `cacheCreation: Optional<BetaCacheCreation>`\n\nBreakdown of cached tokens by TTL\n\n- `ephemeral1hInputTokens: Long`\n\nThe number of input tokens used to create the 1 hour cache entry.\n\n- `ephemeral5mInputTokens: Long`\n\nThe number of input tokens used to create the 5 minute cache entry.\n\n- `cacheCreationInputTokens: Optional<Long>`\n\nThe number of input tokens used to create the cache entry.\n\n- `cacheReadInputTokens: Optional<Long>`\n\nThe number of input tokens read from the cache.\n\n- `inputTokens: Long`\n\nThe number of input tokens which were used.\n\n- `outputTokens: Long`\n\nThe number of output tokens which were used.\n\n- `serverToolUse: Optional<BetaServerToolUsage>`\n\nThe number of server tool requests.\n\n- `webFetchRequests: Long`\n\nThe number of web fetch tool requests.\n\n- `webSearchRequests: Long`\n\nThe number of web search tool requests.\n\n- `serviceTier: Optional<ServiceTier>`\n\nIf the request used the priority, standard, or batch tier.\n\n- `STANDARD(\"standard\")`\n\n- `PRIORITY(\"priority\")`\n\n- `type: JsonValue; \"succeeded\"constant`\n\n- `SUCCEEDED(\"succeeded\")`\n\n- `class BetaMessageBatchErroredResult:`\n\n- `error: BetaErrorResponse`\n\n- `class BetaInvalidRequestError:`\n\n- `type: JsonValue; \"invalid_request_error\"constant`\n\n- `INVALID_REQUEST_ERROR(\"invalid_request_error\")`\n\n- `class BetaAuthenticationError:`\n\n- `type: JsonValue; \"authentication_error\"constant`\n\n- `AUTHENTICATION_ERROR(\"authentication_error\")`\n\n- `class BetaBillingError:`\n\n- `type: JsonValue; \"billing_error\"constant`\n\n- `BILLING_ERROR(\"billing_error\")`\n\n- `class BetaPermissionError:`\n\n- `type: JsonValue; \"permission_error\"constant`\n\n- `PERMISSION_ERROR(\"permission_error\")`\n\n- `class BetaNotFoundError:`\n\n- `type: JsonValue; \"not_found_error\"constant`\n\n- `NOT_FOUND_ERROR(\"not_found_error\")`\n\n- `class BetaRateLimitError:`\n\n- `type: JsonValue; \"rate_limit_error\"constant`\n\n- `RATE_LIMIT_ERROR(\"rate_limit_error\")`\n\n- `class BetaGatewayTimeoutError:`\n\n- `type: JsonValue; \"timeout_error\"constant`\n\n- `TIMEOUT_ERROR(\"timeout_error\")`\n\n- `class BetaApiError:`\n\n- `type: JsonValue; \"api_error\"constant`\n\n- `API_ERROR(\"api_error\")`\n\n- `class BetaOverloadedError:`\n\n- `type: JsonValue; \"overloaded_error\"constant`\n\n- `OVERLOADED_ERROR(\"overloaded_error\")`\n\n- `requestId: Optional<String>`\n\n- `type: JsonValue; \"error\"constant`\n\n- `type: JsonValue; \"errored\"constant`\n\n- `ERRORED(\"errored\")`\n\n- `class BetaMessageBatchCanceledResult:`\n\n- `type: JsonValue; \"canceled\"constant`\n\n- `CANCELED(\"canceled\")`\n\n- `class BetaMessageBatchExpiredResult:`\n\n- `type: JsonValue; \"expired\"constant`\n\n- `EXPIRED(\"expired\")`",
  "code_samples": [
    {
      "code": "[{\"type\": \"text\", \"text\": \"Hi, I'm Claude.\"}]",
      "language": "json"
    },
    {
      "code": "[\n            {\"role\": \"user\", \"content\": \"What's the Greek name for Sun? (A) Sol (B) Helios (C) Sun\"},\n            {\"role\": \"assistant\", \"content\": \"The best answer is (\"}\n          ]",
      "language": "json"
    },
    {
      "code": "[{\"type\": \"text\", \"text\": \"B)\"}]",
      "language": "json"
    },
    {
      "code": "package com.anthropic.example\n\nimport com.anthropic.client.AnthropicClient\nimport com.anthropic.client.okhttp.AnthropicOkHttpClient\nimport com.anthropic.core.http.StreamResponse\nimport com.anthropic.models.beta.messages.batches.BatchResultsParams\nimport com.anthropic.models.beta.messages.batches.BetaMessageBatchIndividualResponse\n\nfun main() {\n    val client: AnthropicClient = AnthropicOkHttpClient.fromEnv()\n\n    val betaMessageBatchIndividualResponse: StreamResponse<BetaMessageBatchIndividualResponse> = client.beta().messages().batches().resultsStreaming(\"message_batch_id\")\n}",
      "language": "kotlin"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Results",
      "id": "results"
    },
    {
      "level": "h3",
      "text": "Parameters",
      "id": "parameters"
    },
    {
      "level": "h3",
      "text": "Returns",
      "id": "returns"
    },
    {
      "level": "h3",
      "text": "Example",
      "id": "example"
    }
  ],
  "url": "llms-txt#retrieve-message-batch-results-(beta)-(kotlin)",
  "links": []
}