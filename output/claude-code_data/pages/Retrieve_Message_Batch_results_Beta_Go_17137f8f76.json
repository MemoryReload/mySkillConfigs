{
  "title": "Retrieve Message Batch results (Beta) (Go)",
  "content": "URL: https://platform.claude.com/docs/en/api/go/beta/messages/batches/results\n\n`client.Beta.Messages.Batches.Results(ctx, messageBatchID, query) (*BetaMessageBatchIndividualResponse, error)`\n\n**get** `/v1/messages/batches/{message_batch_id}/results`\n\nStreams the results of a Message Batch as a `.jsonl` file.\n\nEach line in the file is a JSON object containing the result of a single request in the Message Batch. Results are not guaranteed to be in the same order as requests. Use the `custom_id` field to match results to requests.\n\nLearn more about the Message Batches API in our [user guide](https://docs.claude.com/en/docs/build-with-claude/batch-processing)\n\n- `messageBatchID string`\n\nID of the Message Batch.\n\n- `query BetaMessageBatchResultsParams`\n\n- `Betas param.Field[[]AnthropicBeta]`\n\nOptional header to specify the beta version(s) you want to use.\n\n- `type AnthropicBeta string`\n\n- `const AnthropicBetaMessageBatches2024_09_24 AnthropicBeta = \"message-batches-2024-09-24\"`\n\n- `const AnthropicBetaPromptCaching2024_07_31 AnthropicBeta = \"prompt-caching-2024-07-31\"`\n\n- `const AnthropicBetaComputerUse2024_10_22 AnthropicBeta = \"computer-use-2024-10-22\"`\n\n- `const AnthropicBetaComputerUse2025_01_24 AnthropicBeta = \"computer-use-2025-01-24\"`\n\n- `const AnthropicBetaPDFs2024_09_25 AnthropicBeta = \"pdfs-2024-09-25\"`\n\n- `const AnthropicBetaTokenCounting2024_11_01 AnthropicBeta = \"token-counting-2024-11-01\"`\n\n- `const AnthropicBetaTokenEfficientTools2025_02_19 AnthropicBeta = \"token-efficient-tools-2025-02-19\"`\n\n- `const AnthropicBetaOutput128k2025_02_19 AnthropicBeta = \"output-128k-2025-02-19\"`\n\n- `const AnthropicBetaFilesAPI2025_04_14 AnthropicBeta = \"files-api-2025-04-14\"`\n\n- `const AnthropicBetaMCPClient2025_04_04 AnthropicBeta = \"mcp-client-2025-04-04\"`\n\n- `const AnthropicBetaMCPClient2025_11_20 AnthropicBeta = \"mcp-client-2025-11-20\"`\n\n- `const AnthropicBetaDevFullThinking2025_05_14 AnthropicBeta = \"dev-full-thinking-2025-05-14\"`\n\n- `const AnthropicBetaInterleavedThinking2025_05_14 AnthropicBeta = \"interleaved-thinking-2025-05-14\"`\n\n- `const AnthropicBetaCodeExecution2025_05_22 AnthropicBeta = \"code-execution-2025-05-22\"`\n\n- `const AnthropicBetaExtendedCacheTTL2025_04_11 AnthropicBeta = \"extended-cache-ttl-2025-04-11\"`\n\n- `const AnthropicBetaContext1m2025_08_07 AnthropicBeta = \"context-1m-2025-08-07\"`\n\n- `const AnthropicBetaContextManagement2025_06_27 AnthropicBeta = \"context-management-2025-06-27\"`\n\n- `const AnthropicBetaModelContextWindowExceeded2025_08_26 AnthropicBeta = \"model-context-window-exceeded-2025-08-26\"`\n\n- `const AnthropicBetaSkills2025_10_02 AnthropicBeta = \"skills-2025-10-02\"`\n\n- `type BetaMessageBatchIndividualResponse struct{…}`\n\nThis is a single line in the response `.jsonl` file and does not represent the response as a whole.\n\nDeveloper-provided ID created for each request in a Message Batch. Useful for matching results to requests, as results may be given out of request order.\n\nMust be unique for each request within the Message Batch.\n\n- `Result BetaMessageBatchResultUnion`\n\nProcessing result for this request.\n\nContains a Message output if processing was successful, an error response if processing failed, or the reason why processing was not attempted, such as cancellation or expiration.\n\n- `type BetaMessageBatchSucceededResult struct{…}`\n\n- `Message BetaMessage`\n\nUnique object identifier.\n\nThe format and length of IDs may change over time.\n\n- `Container BetaContainer`\n\nInformation about the container used in the request (for the code execution tool)\n\nIdentifier for the container used in this request\n\nThe time at which the container will expire.\n\n- `Skills []BetaSkill`\n\nSkills loaded in the container\n\n- `Type BetaSkillType`\n\nType of skill - either 'anthropic' (built-in) or 'custom' (user-defined)\n\n- `const BetaSkillTypeAnthropic BetaSkillType = \"anthropic\"`\n\n- `const BetaSkillTypeCustom BetaSkillType = \"custom\"`\n\nSkill version or 'latest' for most recent version\n\n- `Content []BetaContentBlockUnion`\n\nContent generated by the model.\n\nThis is an array of content blocks, each of which has a `type` that determines its shape.\n\nIf the request input `messages` ended with an `assistant` turn, then the response `content` will continue directly from that last turn. You can use this to constrain the model's output.\n\nFor example, if the input `messages` were:\n\nThen the response `content` might be:\n\n- `type BetaTextBlock struct{…}`\n\n- `Citations []BetaTextCitationUnion`\n\nCitations supporting the text block.\n\nThe type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.\n\n- `type BetaCitationCharLocation struct{…}`\n\n- `DocumentIndex int64`\n\n- `DocumentTitle string`\n\n- `EndCharIndex int64`\n\n- `StartCharIndex int64`\n\n- `Type CharLocation`\n\n- `const CharLocationCharLocation CharLocation = \"char_location\"`\n\n- `type BetaCitationPageLocation struct{…}`\n\n- `DocumentIndex int64`\n\n- `DocumentTitle string`\n\n- `EndPageNumber int64`\n\n- `StartPageNumber int64`\n\n- `Type PageLocation`\n\n- `const PageLocationPageLocation PageLocation = \"page_location\"`\n\n- `type BetaCitationContentBlockLocation struct{…}`\n\n- `DocumentIndex int64`\n\n- `DocumentTitle string`\n\n- `EndBlockIndex int64`\n\n- `StartBlockIndex int64`\n\n- `Type ContentBlockLocation`\n\n- `const ContentBlockLocationContentBlockLocation ContentBlockLocation = \"content_block_location\"`\n\n- `type BetaCitationsWebSearchResultLocation struct{…}`\n\n- `EncryptedIndex string`\n\n- `Type WebSearchResultLocation`\n\n- `const WebSearchResultLocationWebSearchResultLocation WebSearchResultLocation = \"web_search_result_location\"`\n\n- `type BetaCitationSearchResultLocation struct{…}`\n\n- `EndBlockIndex int64`\n\n- `SearchResultIndex int64`\n\n- `StartBlockIndex int64`\n\n- `Type SearchResultLocation`\n\n- `const SearchResultLocationSearchResultLocation SearchResultLocation = \"search_result_location\"`\n\n- `const TextText Text = \"text\"`\n\n- `type BetaThinkingBlock struct{…}`\n\n- `const ThinkingThinking Thinking = \"thinking\"`\n\n- `type BetaRedactedThinkingBlock struct{…}`\n\n- `Type RedactedThinking`\n\n- `const RedactedThinkingRedactedThinking RedactedThinking = \"redacted_thinking\"`\n\n- `type BetaToolUseBlock struct{…}`\n\n- `Input map[string, any]`\n\n- `const ToolUseToolUse ToolUse = \"tool_use\"`\n\n- `Caller BetaToolUseBlockCallerUnion`\n\nTool invocation directly from the model.\n\n- `type BetaDirectCaller struct{…}`\n\nTool invocation directly from the model.\n\n- `const DirectDirect Direct = \"direct\"`\n\n- `type BetaServerToolCaller struct{…}`\n\nTool invocation generated by a server-side tool.\n\n- `Type CodeExecution20250825`\n\n- `const CodeExecution20250825CodeExecution20250825 CodeExecution20250825 = \"code_execution_20250825\"`\n\n- `type BetaServerToolUseBlock struct{…}`\n\n- `Caller BetaServerToolUseBlockCallerUnion`\n\nTool invocation directly from the model.\n\n- `type BetaDirectCaller struct{…}`\n\nTool invocation directly from the model.\n\n- `const DirectDirect Direct = \"direct\"`\n\n- `type BetaServerToolCaller struct{…}`\n\nTool invocation generated by a server-side tool.\n\n- `Type CodeExecution20250825`\n\n- `const CodeExecution20250825CodeExecution20250825 CodeExecution20250825 = \"code_execution_20250825\"`\n\n- `Input map[string, any]`\n\n- `Name BetaServerToolUseBlockName`\n\n- `const BetaServerToolUseBlockNameWebSearch BetaServerToolUseBlockName = \"web_search\"`\n\n- `const BetaServerToolUseBlockNameWebFetch BetaServerToolUseBlockName = \"web_fetch\"`\n\n- `const BetaServerToolUseBlockNameCodeExecution BetaServerToolUseBlockName = \"code_execution\"`\n\n- `const BetaServerToolUseBlockNameBashCodeExecution BetaServerToolUseBlockName = \"bash_code_execution\"`\n\n- `const BetaServerToolUseBlockNameTextEditorCodeExecution BetaServerToolUseBlockName = \"text_editor_code_execution\"`\n\n- `const BetaServerToolUseBlockNameToolSearchToolRegex BetaServerToolUseBlockName = \"tool_search_tool_regex\"`\n\n- `const BetaServerToolUseBlockNameToolSearchToolBm25 BetaServerToolUseBlockName = \"tool_search_tool_bm25\"`\n\n- `Type ServerToolUse`\n\n- `const ServerToolUseServerToolUse ServerToolUse = \"server_tool_use\"`\n\n- `type BetaWebSearchToolResultBlock struct{…}`\n\n- `Content BetaWebSearchToolResultBlockContentUnion`\n\n- `type BetaWebSearchToolResultError struct{…}`\n\n- `ErrorCode BetaWebSearchToolResultErrorCode`\n\n- `const BetaWebSearchToolResultErrorCodeInvalidToolInput BetaWebSearchToolResultErrorCode = \"invalid_tool_input\"`\n\n- `const BetaWebSearchToolResultErrorCodeUnavailable BetaWebSearchToolResultErrorCode = \"unavailable\"`\n\n- `const BetaWebSearchToolResultErrorCodeMaxUsesExceeded BetaWebSearchToolResultErrorCode = \"max_uses_exceeded\"`\n\n- `const BetaWebSearchToolResultErrorCodeTooManyRequests BetaWebSearchToolResultErrorCode = \"too_many_requests\"`\n\n- `const BetaWebSearchToolResultErrorCodeQueryTooLong BetaWebSearchToolResultErrorCode = \"query_too_long\"`\n\n- `Type WebSearchToolResultError`\n\n- `const WebSearchToolResultErrorWebSearchToolResultError WebSearchToolResultError = \"web_search_tool_result_error\"`\n\n- `type BetaWebSearchToolResultBlockContentArray []BetaWebSearchResultBlock`\n\n- `EncryptedContent string`\n\n- `Type WebSearchResult`\n\n- `const WebSearchResultWebSearchResult WebSearchResult = \"web_search_result\"`\n\n- `Type WebSearchToolResult`\n\n- `const WebSearchToolResultWebSearchToolResult WebSearchToolResult = \"web_search_tool_result\"`\n\n- `type BetaWebFetchToolResultBlock struct{…}`\n\n- `Content BetaWebFetchToolResultBlockContentUnion`\n\n- `type BetaWebFetchToolResultErrorBlock struct{…}`\n\n- `ErrorCode BetaWebFetchToolResultErrorCode`\n\n- `const BetaWebFetchToolResultErrorCodeInvalidToolInput BetaWebFetchToolResultErrorCode = \"invalid_tool_input\"`\n\n- `const BetaWebFetchToolResultErrorCodeURLTooLong BetaWebFetchToolResultErrorCode = \"url_too_long\"`\n\n- `const BetaWebFetchToolResultErrorCodeURLNotAllowed BetaWebFetchToolResultErrorCode = \"url_not_allowed\"`\n\n- `const BetaWebFetchToolResultErrorCodeURLNotAccessible BetaWebFetchToolResultErrorCode = \"url_not_accessible\"`\n\n- `const BetaWebFetchToolResultErrorCodeUnsupportedContentType BetaWebFetchToolResultErrorCode = \"unsupported_content_type\"`\n\n- `const BetaWebFetchToolResultErrorCodeTooManyRequests BetaWebFetchToolResultErrorCode = \"too_many_requests\"`\n\n- `const BetaWebFetchToolResultErrorCodeMaxUsesExceeded BetaWebFetchToolResultErrorCode = \"max_uses_exceeded\"`\n\n- `const BetaWebFetchToolResultErrorCodeUnavailable BetaWebFetchToolResultErrorCode = \"unavailable\"`\n\n- `Type WebFetchToolResultError`\n\n- `const WebFetchToolResultErrorWebFetchToolResultError WebFetchToolResultError = \"web_fetch_tool_result_error\"`\n\n- `type BetaWebFetchBlock struct{…}`\n\n- `Content BetaDocumentBlock`\n\n- `Citations BetaCitationConfig`\n\nCitation configuration for the document\n\n- `Source BetaDocumentBlockSourceUnion`\n\n- `type BetaBase64PDFSource struct{…}`\n\n- `MediaType ApplicationPDF`\n\n- `const ApplicationPDFApplicationPDF ApplicationPDF = \"application/pdf\"`\n\n- `const Base64Base64 Base64 = \"base64\"`\n\n- `type BetaPlainTextSource struct{…}`\n\n- `MediaType TextPlain`\n\n- `const TextPlainTextPlain TextPlain = \"text/plain\"`\n\n- `const TextText Text = \"text\"`\n\nThe title of the document\n\n- `const DocumentDocument Document = \"document\"`\n\n- `RetrievedAt string`\n\nISO 8601 timestamp when the content was retrieved\n\n- `Type WebFetchResult`\n\n- `const WebFetchResultWebFetchResult WebFetchResult = \"web_fetch_result\"`\n\n- `Type WebFetchToolResult`\n\n- `const WebFetchToolResultWebFetchToolResult WebFetchToolResult = \"web_fetch_tool_result\"`\n\n- `type BetaCodeExecutionToolResultBlock struct{…}`\n\n- `Content BetaCodeExecutionToolResultBlockContentUnion`\n\n- `type BetaCodeExecutionToolResultError struct{…}`\n\n- `ErrorCode BetaCodeExecutionToolResultErrorCode`\n\n- `const BetaCodeExecutionToolResultErrorCodeInvalidToolInput BetaCodeExecutionToolResultErrorCode = \"invalid_tool_input\"`\n\n- `const BetaCodeExecutionToolResultErrorCodeUnavailable BetaCodeExecutionToolResultErrorCode = \"unavailable\"`\n\n- `const BetaCodeExecutionToolResultErrorCodeTooManyRequests BetaCodeExecutionToolResultErrorCode = \"too_many_requests\"`\n\n- `const BetaCodeExecutionToolResultErrorCodeExecutionTimeExceeded BetaCodeExecutionToolResultErrorCode = \"execution_time_exceeded\"`\n\n- `Type CodeExecutionToolResultError`\n\n- `const CodeExecutionToolResultErrorCodeExecutionToolResultError CodeExecutionToolResultError = \"code_execution_tool_result_error\"`\n\n- `type BetaCodeExecutionResultBlock struct{…}`\n\n- `Content []BetaCodeExecutionOutputBlock`\n\n- `Type CodeExecutionOutput`\n\n- `const CodeExecutionOutputCodeExecutionOutput CodeExecutionOutput = \"code_execution_output\"`\n\n- `Type CodeExecutionResult`\n\n- `const CodeExecutionResultCodeExecutionResult CodeExecutionResult = \"code_execution_result\"`\n\n- `Type CodeExecutionToolResult`\n\n- `const CodeExecutionToolResultCodeExecutionToolResult CodeExecutionToolResult = \"code_execution_tool_result\"`\n\n- `type BetaBashCodeExecutionToolResultBlock struct{…}`\n\n- `Content BetaBashCodeExecutionToolResultBlockContentUnion`\n\n- `type BetaBashCodeExecutionToolResultError struct{…}`\n\n- `ErrorCode BetaBashCodeExecutionToolResultErrorErrorCode`\n\n- `const BetaBashCodeExecutionToolResultErrorErrorCodeInvalidToolInput BetaBashCodeExecutionToolResultErrorErrorCode = \"invalid_tool_input\"`\n\n- `const BetaBashCodeExecutionToolResultErrorErrorCodeUnavailable BetaBashCodeExecutionToolResultErrorErrorCode = \"unavailable\"`\n\n- `const BetaBashCodeExecutionToolResultErrorErrorCodeTooManyRequests BetaBashCodeExecutionToolResultErrorErrorCode = \"too_many_requests\"`\n\n- `const BetaBashCodeExecutionToolResultErrorErrorCodeExecutionTimeExceeded BetaBashCodeExecutionToolResultErrorErrorCode = \"execution_time_exceeded\"`\n\n- `const BetaBashCodeExecutionToolResultErrorErrorCodeOutputFileTooLarge BetaBashCodeExecutionToolResultErrorErrorCode = \"output_file_too_large\"`\n\n- `Type BashCodeExecutionToolResultError`\n\n- `const BashCodeExecutionToolResultErrorBashCodeExecutionToolResultError BashCodeExecutionToolResultError = \"bash_code_execution_tool_result_error\"`\n\n- `type BetaBashCodeExecutionResultBlock struct{…}`\n\n- `Content []BetaBashCodeExecutionOutputBlock`\n\n- `Type BashCodeExecutionOutput`\n\n- `const BashCodeExecutionOutputBashCodeExecutionOutput BashCodeExecutionOutput = \"bash_code_execution_output\"`\n\n- `Type BashCodeExecutionResult`\n\n- `const BashCodeExecutionResultBashCodeExecutionResult BashCodeExecutionResult = \"bash_code_execution_result\"`\n\n- `Type BashCodeExecutionToolResult`\n\n- `const BashCodeExecutionToolResultBashCodeExecutionToolResult BashCodeExecutionToolResult = \"bash_code_execution_tool_result\"`\n\n- `type BetaTextEditorCodeExecutionToolResultBlock struct{…}`\n\n- `Content BetaTextEditorCodeExecutionToolResultBlockContentUnion`\n\n- `type BetaTextEditorCodeExecutionToolResultError struct{…}`\n\n- `ErrorCode BetaTextEditorCodeExecutionToolResultErrorErrorCode`\n\n- `const BetaTextEditorCodeExecutionToolResultErrorErrorCodeInvalidToolInput BetaTextEditorCodeExecutionToolResultErrorErrorCode = \"invalid_tool_input\"`\n\n- `const BetaTextEditorCodeExecutionToolResultErrorErrorCodeUnavailable BetaTextEditorCodeExecutionToolResultErrorErrorCode = \"unavailable\"`\n\n- `const BetaTextEditorCodeExecutionToolResultErrorErrorCodeTooManyRequests BetaTextEditorCodeExecutionToolResultErrorErrorCode = \"too_many_requests\"`\n\n- `const BetaTextEditorCodeExecutionToolResultErrorErrorCodeExecutionTimeExceeded BetaTextEditorCodeExecutionToolResultErrorErrorCode = \"execution_time_exceeded\"`\n\n- `const BetaTextEditorCodeExecutionToolResultErrorErrorCodeFileNotFound BetaTextEditorCodeExecutionToolResultErrorErrorCode = \"file_not_found\"`\n\n- `ErrorMessage string`\n\n- `Type TextEditorCodeExecutionToolResultError`\n\n- `const TextEditorCodeExecutionToolResultErrorTextEditorCodeExecutionToolResultError TextEditorCodeExecutionToolResultError = \"text_editor_code_execution_tool_result_error\"`\n\n- `type BetaTextEditorCodeExecutionViewResultBlock struct{…}`\n\n- `FileType BetaTextEditorCodeExecutionViewResultBlockFileType`\n\n- `const BetaTextEditorCodeExecutionViewResultBlockFileTypeText BetaTextEditorCodeExecutionViewResultBlockFileType = \"text\"`\n\n- `const BetaTextEditorCodeExecutionViewResultBlockFileTypeImage BetaTextEditorCodeExecutionViewResultBlockFileType = \"image\"`\n\n- `const BetaTextEditorCodeExecutionViewResultBlockFileTypePDF BetaTextEditorCodeExecutionViewResultBlockFileType = \"pdf\"`\n\n- `Type TextEditorCodeExecutionViewResult`\n\n- `const TextEditorCodeExecutionViewResultTextEditorCodeExecutionViewResult TextEditorCodeExecutionViewResult = \"text_editor_code_execution_view_result\"`\n\n- `type BetaTextEditorCodeExecutionCreateResultBlock struct{…}`\n\n- `IsFileUpdate bool`\n\n- `Type TextEditorCodeExecutionCreateResult`\n\n- `const TextEditorCodeExecutionCreateResultTextEditorCodeExecutionCreateResult TextEditorCodeExecutionCreateResult = \"text_editor_code_execution_create_result\"`\n\n- `type BetaTextEditorCodeExecutionStrReplaceResultBlock struct{…}`\n\n- `Type TextEditorCodeExecutionStrReplaceResult`\n\n- `const TextEditorCodeExecutionStrReplaceResultTextEditorCodeExecutionStrReplaceResult TextEditorCodeExecutionStrReplaceResult = \"text_editor_code_execution_str_replace_result\"`\n\n- `Type TextEditorCodeExecutionToolResult`\n\n- `const TextEditorCodeExecutionToolResultTextEditorCodeExecutionToolResult TextEditorCodeExecutionToolResult = \"text_editor_code_execution_tool_result\"`\n\n- `type BetaToolSearchToolResultBlock struct{…}`\n\n- `Content BetaToolSearchToolResultBlockContentUnion`\n\n- `type BetaToolSearchToolResultError struct{…}`\n\n- `ErrorCode BetaToolSearchToolResultErrorErrorCode`\n\n- `const BetaToolSearchToolResultErrorErrorCodeInvalidToolInput BetaToolSearchToolResultErrorErrorCode = \"invalid_tool_input\"`\n\n- `const BetaToolSearchToolResultErrorErrorCodeUnavailable BetaToolSearchToolResultErrorErrorCode = \"unavailable\"`\n\n- `const BetaToolSearchToolResultErrorErrorCodeTooManyRequests BetaToolSearchToolResultErrorErrorCode = \"too_many_requests\"`\n\n- `const BetaToolSearchToolResultErrorErrorCodeExecutionTimeExceeded BetaToolSearchToolResultErrorErrorCode = \"execution_time_exceeded\"`\n\n- `ErrorMessage string`\n\n- `Type ToolSearchToolResultError`\n\n- `const ToolSearchToolResultErrorToolSearchToolResultError ToolSearchToolResultError = \"tool_search_tool_result_error\"`\n\n- `type BetaToolSearchToolSearchResultBlock struct{…}`\n\n- `ToolReferences []BetaToolReferenceBlock`\n\n- `Type ToolReference`\n\n- `const ToolReferenceToolReference ToolReference = \"tool_reference\"`\n\n- `Type ToolSearchToolSearchResult`\n\n- `const ToolSearchToolSearchResultToolSearchToolSearchResult ToolSearchToolSearchResult = \"tool_search_tool_search_result\"`\n\n- `Type ToolSearchToolResult`\n\n- `const ToolSearchToolResultToolSearchToolResult ToolSearchToolResult = \"tool_search_tool_result\"`\n\n- `type BetaMCPToolUseBlock struct{…}`\n\n- `Input map[string, any]`\n\nThe name of the MCP tool\n\n- `ServerName string`\n\nThe name of the MCP server\n\n- `const MCPToolUseMCPToolUse MCPToolUse = \"mcp_tool_use\"`\n\n- `type BetaMCPToolResultBlock struct{…}`\n\n- `Content BetaMCPToolResultBlockContentUnion`\n\n- `type BetaMCPToolResultBlockContentBetaMCPToolResultBlockContent []BetaTextBlock`\n\n- `Citations []BetaTextCitationUnion`\n\nCitations supporting the text block.\n\nThe type of citation returned will depend on the type of document being cited. Citing a PDF results in `page_location`, plain text results in `char_location`, and content document results in `content_block_location`.\n\n- `type BetaCitationCharLocation struct{…}`\n\n- `DocumentIndex int64`\n\n- `DocumentTitle string`\n\n- `EndCharIndex int64`\n\n- `StartCharIndex int64`\n\n- `Type CharLocation`\n\n- `const CharLocationCharLocation CharLocation = \"char_location\"`\n\n- `type BetaCitationPageLocation struct{…}`\n\n- `DocumentIndex int64`\n\n- `DocumentTitle string`\n\n- `EndPageNumber int64`\n\n- `StartPageNumber int64`\n\n- `Type PageLocation`\n\n- `const PageLocationPageLocation PageLocation = \"page_location\"`\n\n- `type BetaCitationContentBlockLocation struct{…}`\n\n- `DocumentIndex int64`\n\n- `DocumentTitle string`\n\n- `EndBlockIndex int64`\n\n- `StartBlockIndex int64`\n\n- `Type ContentBlockLocation`\n\n- `const ContentBlockLocationContentBlockLocation ContentBlockLocation = \"content_block_location\"`\n\n- `type BetaCitationsWebSearchResultLocation struct{…}`\n\n- `EncryptedIndex string`\n\n- `Type WebSearchResultLocation`\n\n- `const WebSearchResultLocationWebSearchResultLocation WebSearchResultLocation = \"web_search_result_location\"`\n\n- `type BetaCitationSearchResultLocation struct{…}`\n\n- `EndBlockIndex int64`\n\n- `SearchResultIndex int64`\n\n- `StartBlockIndex int64`\n\n- `Type SearchResultLocation`\n\n- `const SearchResultLocationSearchResultLocation SearchResultLocation = \"search_result_location\"`\n\n- `const TextText Text = \"text\"`\n\n- `Type MCPToolResult`\n\n- `const MCPToolResultMCPToolResult MCPToolResult = \"mcp_tool_result\"`\n\n- `type BetaContainerUploadBlock struct{…}`\n\nResponse model for a file uploaded to the container.\n\n- `Type ContainerUpload`\n\n- `const ContainerUploadContainerUpload ContainerUpload = \"container_upload\"`\n\n- `ContextManagement BetaContextManagementResponse`\n\nContext management response.\n\nInformation about context management strategies applied during the request.\n\n- `AppliedEdits []BetaContextManagementResponseAppliedEditUnion`\n\nList of context management edits that were applied.\n\n- `type BetaClearToolUses20250919EditResponse struct{…}`\n\n- `ClearedInputTokens int64`\n\nNumber of input tokens cleared by this edit.\n\n- `ClearedToolUses int64`\n\nNumber of tool uses that were cleared.\n\n- `Type ClearToolUses20250919`\n\nThe type of context management edit applied.\n\n- `const ClearToolUses20250919ClearToolUses20250919 ClearToolUses20250919 = \"clear_tool_uses_20250919\"`\n\n- `type BetaClearThinking20251015EditResponse struct{…}`\n\n- `ClearedInputTokens int64`\n\nNumber of input tokens cleared by this edit.\n\n- `ClearedThinkingTurns int64`\n\nNumber of thinking turns that were cleared.\n\n- `Type ClearThinking20251015`\n\nThe type of context management edit applied.\n\n- `const ClearThinking20251015ClearThinking20251015 ClearThinking20251015 = \"clear_thinking_20251015\"`\n\nThe model that will complete your prompt.\n\nSee [models](https://docs.anthropic.com/en/docs/models-overview) for additional details and options.\n\n- `type Model string`\n\nThe model that will complete your prompt.\n\nSee [models](https://docs.anthropic.com/en/docs/models-overview) for additional details and options.\n\n- `const ModelClaudeOpus4_5_20251101 Model = \"claude-opus-4-5-20251101\"`\n\nPremium model combining maximum intelligence with practical performance\n\n- `const ModelClaudeOpus4_5 Model = \"claude-opus-4-5\"`\n\nPremium model combining maximum intelligence with practical performance\n\n- `const ModelClaude3_7SonnetLatest Model = \"claude-3-7-sonnet-latest\"`\n\nHigh-performance model with early extended thinking\n\n- `const ModelClaude3_7Sonnet20250219 Model = \"claude-3-7-sonnet-20250219\"`\n\nHigh-performance model with early extended thinking\n\n- `const ModelClaude3_5HaikuLatest Model = \"claude-3-5-haiku-latest\"`\n\nFastest and most compact model for near-instant responsiveness\n\n- `const ModelClaude3_5Haiku20241022 Model = \"claude-3-5-haiku-20241022\"`\n\n- `const ModelClaudeHaiku4_5 Model = \"claude-haiku-4-5\"`\n\nHybrid model, capable of near-instant responses and extended thinking\n\n- `const ModelClaudeHaiku4_5_20251001 Model = \"claude-haiku-4-5-20251001\"`\n\nHybrid model, capable of near-instant responses and extended thinking\n\n- `const ModelClaudeSonnet4_20250514 Model = \"claude-sonnet-4-20250514\"`\n\nHigh-performance model with extended thinking\n\n- `const ModelClaudeSonnet4_0 Model = \"claude-sonnet-4-0\"`\n\nHigh-performance model with extended thinking\n\n- `const ModelClaude4Sonnet20250514 Model = \"claude-4-sonnet-20250514\"`\n\nHigh-performance model with extended thinking\n\n- `const ModelClaudeSonnet4_5 Model = \"claude-sonnet-4-5\"`\n\nOur best model for real-world agents and coding\n\n- `const ModelClaudeSonnet4_5_20250929 Model = \"claude-sonnet-4-5-20250929\"`\n\nOur best model for real-world agents and coding\n\n- `const ModelClaudeOpus4_0 Model = \"claude-opus-4-0\"`\n\nOur most capable model\n\n- `const ModelClaudeOpus4_20250514 Model = \"claude-opus-4-20250514\"`\n\nOur most capable model\n\n- `const ModelClaude4Opus20250514 Model = \"claude-4-opus-20250514\"`\n\nOur most capable model\n\n- `const ModelClaudeOpus4_1_20250805 Model = \"claude-opus-4-1-20250805\"`\n\nOur most capable model\n\n- `const ModelClaude3OpusLatest Model = \"claude-3-opus-latest\"`\n\nExcels at writing and complex tasks\n\n- `const ModelClaude_3_Opus_20240229 Model = \"claude-3-opus-20240229\"`\n\nExcels at writing and complex tasks\n\n- `const ModelClaude_3_Haiku_20240307 Model = \"claude-3-haiku-20240307\"`\n\nOur previous most fast and cost-effective\n\nConversational role of the generated message.\n\nThis will always be `\"assistant\"`.\n\n- `const AssistantAssistant Assistant = \"assistant\"`\n\n- `StopReason BetaStopReason`\n\nThe reason that we stopped.\n\nThis may be one the following values:\n\n* `\"end_turn\"`: the model reached a natural stopping point\n          * `\"max_tokens\"`: we exceeded the requested `max_tokens` or the model's maximum\n          * `\"stop_sequence\"`: one of your provided custom `stop_sequences` was generated\n          * `\"tool_use\"`: the model invoked one or more tools\n          * `\"pause_turn\"`: we paused a long-running turn. You may provide the response back as-is in a subsequent request to let the model continue.\n          * `\"refusal\"`: when streaming classifiers intervene to handle potential policy violations\n\nIn non-streaming mode this value is always non-null. In streaming mode, it is null in the `message_start` event and non-null otherwise.\n\n- `const BetaStopReasonEndTurn BetaStopReason = \"end_turn\"`\n\n- `const BetaStopReasonMaxTokens BetaStopReason = \"max_tokens\"`\n\n- `const BetaStopReasonStopSequence BetaStopReason = \"stop_sequence\"`\n\n- `const BetaStopReasonToolUse BetaStopReason = \"tool_use\"`\n\n- `const BetaStopReasonPauseTurn BetaStopReason = \"pause_turn\"`\n\n- `const BetaStopReasonRefusal BetaStopReason = \"refusal\"`\n\n- `const BetaStopReasonModelContextWindowExceeded BetaStopReason = \"model_context_window_exceeded\"`\n\n- `StopSequence string`\n\nWhich custom stop sequence was generated, if any.\n\nThis value will be a non-null string if one of your custom stop sequences was generated.\n\nFor Messages, this is always `\"message\"`.\n\n- `const MessageMessage Message = \"message\"`\n\nBilling and rate-limit usage.\n\nAnthropic's API bills and rate-limits by token counts, as tokens represent the underlying cost to our systems.\n\nUnder the hood, the API transforms requests into a format suitable for the model. The model's output then goes through a parsing stage before becoming an API response. As a result, the token counts in `usage` will not match one-to-one with the exact visible content of an API request or response.\n\nFor example, `output_tokens` will be non-zero, even for an empty string response from Claude.\n\nTotal input tokens in a request is the summation of `input_tokens`, `cache_creation_input_tokens`, and `cache_read_input_tokens`.\n\n- `CacheCreation BetaCacheCreation`\n\nBreakdown of cached tokens by TTL\n\n- `Ephemeral1hInputTokens int64`\n\nThe number of input tokens used to create the 1 hour cache entry.\n\n- `Ephemeral5mInputTokens int64`\n\nThe number of input tokens used to create the 5 minute cache entry.\n\n- `CacheCreationInputTokens int64`\n\nThe number of input tokens used to create the cache entry.\n\n- `CacheReadInputTokens int64`\n\nThe number of input tokens read from the cache.\n\n- `InputTokens int64`\n\nThe number of input tokens which were used.\n\n- `OutputTokens int64`\n\nThe number of output tokens which were used.\n\n- `ServerToolUse BetaServerToolUsage`\n\nThe number of server tool requests.\n\n- `WebFetchRequests int64`\n\nThe number of web fetch tool requests.\n\n- `WebSearchRequests int64`\n\nThe number of web search tool requests.\n\n- `ServiceTier BetaUsageServiceTier`\n\nIf the request used the priority, standard, or batch tier.\n\n- `const BetaUsageServiceTierStandard BetaUsageServiceTier = \"standard\"`\n\n- `const BetaUsageServiceTierPriority BetaUsageServiceTier = \"priority\"`\n\n- `const BetaUsageServiceTierBatch BetaUsageServiceTier = \"batch\"`\n\n- `const SucceededSucceeded Succeeded = \"succeeded\"`\n\n- `type BetaMessageBatchErroredResult struct{…}`\n\n- `Error BetaErrorResponse`\n\n- `Error BetaErrorUnion`\n\n- `type BetaInvalidRequestError struct{…}`\n\n- `Type InvalidRequestError`\n\n- `const InvalidRequestErrorInvalidRequestError InvalidRequestError = \"invalid_request_error\"`\n\n- `type BetaAuthenticationError struct{…}`\n\n- `Type AuthenticationError`\n\n- `const AuthenticationErrorAuthenticationError AuthenticationError = \"authentication_error\"`\n\n- `type BetaBillingError struct{…}`\n\n- `Type BillingError`\n\n- `const BillingErrorBillingError BillingError = \"billing_error\"`\n\n- `type BetaPermissionError struct{…}`\n\n- `Type PermissionError`\n\n- `const PermissionErrorPermissionError PermissionError = \"permission_error\"`\n\n- `type BetaNotFoundError struct{…}`\n\n- `Type NotFoundError`\n\n- `const NotFoundErrorNotFoundError NotFoundError = \"not_found_error\"`\n\n- `type BetaRateLimitError struct{…}`\n\n- `Type RateLimitError`\n\n- `const RateLimitErrorRateLimitError RateLimitError = \"rate_limit_error\"`\n\n- `type BetaGatewayTimeoutError struct{…}`\n\n- `Type TimeoutError`\n\n- `const TimeoutErrorTimeoutError TimeoutError = \"timeout_error\"`\n\n- `type BetaAPIError struct{…}`\n\n- `const APIErrorAPIError APIError = \"api_error\"`\n\n- `type BetaOverloadedError struct{…}`\n\n- `Type OverloadedError`\n\n- `const OverloadedErrorOverloadedError OverloadedError = \"overloaded_error\"`\n\n- `const ErrorError Error = \"error\"`\n\n- `const ErroredErrored Errored = \"errored\"`\n\n- `type BetaMessageBatchCanceledResult struct{…}`\n\n- `const CanceledCanceled Canceled = \"canceled\"`\n\n- `type BetaMessageBatchExpiredResult struct{…}`\n\n- `const ExpiredExpired Expired = \"expired\"`",
  "code_samples": [
    {
      "code": "[{\"type\": \"text\", \"text\": \"Hi, I'm Claude.\"}]",
      "language": "json"
    },
    {
      "code": "[\n            {\"role\": \"user\", \"content\": \"What's the Greek name for Sun? (A) Sol (B) Helios (C) Sun\"},\n            {\"role\": \"assistant\", \"content\": \"The best answer is (\"}\n          ]",
      "language": "json"
    },
    {
      "code": "[{\"type\": \"text\", \"text\": \"B)\"}]",
      "language": "json"
    },
    {
      "code": "package main\n\nimport (\n  \"context\"\n  \"fmt\"\n\n  \"github.com/anthropics/anthropic-sdk-go\"\n  \"github.com/anthropics/anthropic-sdk-go/option\"\n)\n\nfunc main() {\n  client := anthropic.NewClient(\n    option.WithAPIKey(\"my-anthropic-api-key\"),\n  )\n  stream := client.Beta.Messages.Batches.ResultsStreaming(\n    context.TODO(),\n    \"message_batch_id\",\n    anthropic.BetaMessageBatchResultsParams{\n\n    },\n  )\n  if stream.Err() != nil {\n    panic(err.Error())\n  }\n  fmt.Printf(\"%+v\\n\", betaMessageBatchIndividualResponse.CustomID)\n}",
      "language": "go"
    }
  ],
  "headings": [
    {
      "level": "h2",
      "text": "Results",
      "id": "results"
    },
    {
      "level": "h3",
      "text": "Parameters",
      "id": "parameters"
    },
    {
      "level": "h3",
      "text": "Returns",
      "id": "returns"
    },
    {
      "level": "h3",
      "text": "Example",
      "id": "example"
    }
  ],
  "url": "llms-txt#retrieve-message-batch-results-(beta)-(go)",
  "links": []
}